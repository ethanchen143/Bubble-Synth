(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ud={exports:{}},la={},$d={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),gg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),xg=Symbol.for("react.memo"),Cg=Symbol.for("react.lazy"),dh=Symbol.iterator;function Eg(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var Hd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gd=Object.assign,Qd={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=Qd,this.updater=n||Hd}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xd(){}Xd.prototype=Tr.prototype;function Eu(t,e,n){this.props=t,this.context=e,this.refs=Qd,this.updater=n||Hd}var Nu=Eu.prototype=new Xd;Nu.constructor=Eu;Gd(Nu,Tr.prototype);Nu.isPureReactComponent=!0;var fh=Array.isArray,Yd=Object.prototype.hasOwnProperty,Au={current:null},Zd={key:!0,ref:!0,__self:!0,__source:!0};function Kd(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Yd.call(e,s)&&!Zd.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Si,type:t,key:i,ref:o,props:r,_owner:Au.current}}function Ng(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ou(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function Ag(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ph=/\/+/g;function Xa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ag(""+t.key):e.toString(36)}function io(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Si:case gg:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Xa(o,0):s,fh(r)?(n="",t!=null&&(n=t.replace(ph,"$&/")+"/"),io(r,e,n,"",function(u){return u})):r!=null&&(Ou(r)&&(r=Ng(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ph,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",fh(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Xa(i,a);o+=io(i,e,n,l,r)}else if(l=Eg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Xa(i,a++),o+=io(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bi(t,e,n){if(t==null)return t;var s=[],r=0;return io(t,s,"","",function(i){return e.call(n,i,r++)}),s}function Og(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},oo={transition:null},Mg={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:oo,ReactCurrentOwner:Au};function Jd(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:bi,forEach:function(t,e,n){bi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bi(t,function(){e++}),e},toArray:function(t){return bi(t,function(e){return e})||[]},only:function(t){if(!Ou(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Tr;J.Fragment=_g;J.Profiler=yg;J.PureComponent=Eu;J.StrictMode=vg;J.Suspense=Tg;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;J.act=Jd;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Gd({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Au.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Yd.call(e,l)&&!Zd.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Si,type:t.type,key:r,ref:i,props:s,_owner:o}};J.createContext=function(t){return t={$$typeof:Sg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wg,_context:t},t.Consumer=t};J.createElement=Kd;J.createFactory=function(t){var e=Kd.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:kg,render:t}};J.isValidElement=Ou;J.lazy=function(t){return{$$typeof:Cg,_payload:{_status:-1,_result:t},_init:Og}};J.memo=function(t,e){return{$$typeof:xg,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=oo.transition;oo.transition={};try{t()}finally{oo.transition=e}};J.unstable_act=Jd;J.useCallback=function(t,e){return ot.current.useCallback(t,e)};J.useContext=function(t){return ot.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};J.useEffect=function(t,e){return ot.current.useEffect(t,e)};J.useId=function(){return ot.current.useId()};J.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ot.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};J.useRef=function(t){return ot.current.useRef(t)};J.useState=function(t){return ot.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ot.current.useTransition()};J.version="18.3.1";$d.exports=J;var Z=$d.exports;const Dg=mg(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=Z,Rg=Symbol.for("react.element"),Pg=Symbol.for("react.fragment"),Fg=Object.prototype.hasOwnProperty,Vg=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function ef(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Fg.call(e,s)&&!Lg.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Rg,type:t,key:i,ref:o,props:r,_owner:Vg.current}}la.Fragment=Pg;la.jsx=ef;la.jsxs=ef;Ud.exports=la;var P=Ud.exports,Tl={},tf={exports:{}},Et={},nf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var I=O.length;O.push(M);e:for(;0<I;){var L=I-1>>>1,G=O[L];if(0<r(G,M))O[L]=M,O[I]=G,I=L;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var M=O[0],I=O.pop();if(I!==M){O[0]=I;e:for(var L=0,G=O.length,ne=G>>>1;L<ne;){var oe=2*(L+1)-1,Q=O[oe],K=oe+1,Ne=O[K];if(0>r(Q,I))K<G&&0>r(Ne,Q)?(O[L]=Ne,O[K]=I,L=K):(O[L]=Q,O[oe]=I,L=oe);else if(K<G&&0>r(Ne,I))O[L]=Ne,O[K]=I,L=K;else break e}}return M}function r(O,M){var I=O.sortIndex-M.sortIndex;return I!==0?I:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=O)s(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function x(O){if(v=!1,_(O),!p)if(n(l)!==null)p=!0,j(y);else{var M=n(u);M!==null&&W(x,M.startTime-O)}}function y(O,M){p=!1,v&&(v=!1,f(S),S=-1),g=!0;var I=d;try{for(_(M),h=n(l);h!==null&&(!(h.expirationTime>M)||O&&!N());){var L=h.callback;if(typeof L=="function"){h.callback=null,d=h.priorityLevel;var G=L(h.expirationTime<=M);M=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&s(l),_(M)}else s(l);h=n(l)}if(h!==null)var ne=!0;else{var oe=n(u);oe!==null&&W(x,oe.startTime-M),ne=!1}return ne}finally{h=null,d=I,g=!1}}var k=!1,T=null,S=-1,E=5,C=-1;function N(){return!(t.unstable_now()-C<E)}function A(){if(T!==null){var O=t.unstable_now();C=O;var M=!0;try{M=T(!0,O)}finally{M?F():(k=!1,T=null)}}else k=!1}var F;if(typeof m=="function")F=function(){m(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=A,F=function(){U.postMessage(null)}}else F=function(){w(A,0)};function j(O){T=O,k||(k=!0,F())}function W(O,M){S=w(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,j(y))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var I=d;d=M;try{return O()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=d;d=O;try{return M()}finally{d=I}},t.unstable_scheduleCallback=function(O,M,I){var L=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?L+I:L):I=L,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,O={id:c++,callback:M,priorityLevel:O,startTime:I,expirationTime:G,sortIndex:-1},I>L?(O.sortIndex=I,e(u,O),n(l)===null&&O===n(u)&&(v?(f(S),S=-1):v=!0,W(x,I-L))):(O.sortIndex=G,e(l,O),p||g||(p=!0,j(y))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var M=d;return function(){var I=d;d=M;try{return O.apply(this,arguments)}finally{d=I}}}})(sf);nf.exports=sf;var bg=nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=Z,xt=bg;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rf=new Set,ti={};function Is(t,e){cr(t,e),cr(t+"Capture",e)}function cr(t,e){for(ti[t]=e,t=0;t<e.length;t++)rf.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mh={},gh={};function Wg(t){return xl.call(gh,t)?!0:xl.call(mh,t)?!1:zg.test(t)?gh[t]=!0:(mh[t]=!0,!1)}function Bg(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qg(t,e,n,s){if(e===null||typeof e>"u"||Bg(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mu=/[\-:]([a-z])/g;function Du(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mu,Du);Qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mu,Du);Qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mu,Du);Qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,s){var r=Qe.hasOwnProperty(e)?Qe[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qg(e,n,r,s)&&(n=null),s||r===null?Wg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Dn=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),af=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Nl=Symbol.for("react.suspense_list"),Fu=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),lf=Symbol.for("react.offscreen"),_h=Symbol.iterator;function Rr(t){return t===null||typeof t!="object"?null:(t=_h&&t[_h]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Ya;function Wr(t){if(Ya===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ya=e&&e[1]||""}return`
`+Ya+t}var Za=!1;function Ka(t,e){if(!t||Za)return"";Za=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Za=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wr(t):""}function Ug(t){switch(t.tag){case 5:return Wr(t.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return t=Ka(t.type,!1),t;case 11:return t=Ka(t.type.render,!1),t;case 1:return t=Ka(t.type,!0),t;default:return""}}function Al(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Ws:return"Portal";case Cl:return"Profiler";case Ru:return"StrictMode";case El:return"Suspense";case Nl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case af:return(t.displayName||"Context")+".Consumer";case of:return(t._context.displayName||"Context")+".Provider";case Pu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fu:return e=t.displayName||null,e!==null?e:Al(t.type)||"Memo";case zn:e=t._payload,t=t._init;try{return Al(t(e))}catch{}}return null}function $g(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(e);case 8:return e===Ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hg(t){var e=uf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zi(t){t._valueTracker||(t._valueTracker=Hg(t))}function cf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=uf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ol(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hf(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function Ml(t,e){hf(t,e);var n=ns(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dl(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dl(t,e,n){(e!=="number"||wo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Br=Array.isArray;function nr(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Il(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Br(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function df(t,e){var n=ns(e.value),s=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Sh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ff(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ff(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,pf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ni(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(t){Gg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$r[e]=$r[t]})});function mf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$r.hasOwnProperty(t)&&$r[t]?(""+e).trim():e+"px"}function gf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=mf(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Qg=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pl(t,e){if(e){if(Qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Vu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ll=null,sr=null,rr=null;function kh(t){if(t=xi(t)){if(typeof Ll!="function")throw Error(D(280));var e=t.stateNode;e&&(e=fa(e),Ll(t.stateNode,t.type,e))}}function _f(t){sr?rr?rr.push(t):rr=[t]:sr=t}function vf(){if(sr){var t=sr,e=rr;if(rr=sr=null,kh(t),e)for(t=0;t<e.length;t++)kh(e[t])}}function yf(t,e){return t(e)}function wf(){}var Ja=!1;function Sf(t,e,n){if(Ja)return t(e,n);Ja=!0;try{return yf(t,e,n)}finally{Ja=!1,(sr!==null||rr!==null)&&(wf(),vf())}}function si(t,e){var n=t.stateNode;if(n===null)return null;var s=fa(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var bl=!1;if(En)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){bl=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{bl=!1}function Xg(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hr=!1,So=null,ko=!1,jl=null,Yg={onError:function(t){Hr=!0,So=t}};function Zg(t,e,n,s,r,i,o,a,l){Hr=!1,So=null,Xg.apply(Yg,arguments)}function Kg(t,e,n,s,r,i,o,a,l){if(Zg.apply(this,arguments),Hr){if(Hr){var u=So;Hr=!1,So=null}else throw Error(D(198));ko||(ko=!0,jl=u)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Th(t){if(Rs(t)!==t)throw Error(D(188))}function Jg(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Th(r),t;if(i===s)return Th(r),e;i=i.sibling}throw Error(D(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Tf(t){return t=Jg(t),t!==null?xf(t):null}function xf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xf(t);if(e!==null)return e;t=t.sibling}return null}var Cf=xt.unstable_scheduleCallback,xh=xt.unstable_cancelCallback,e_=xt.unstable_shouldYield,t_=xt.unstable_requestPaint,De=xt.unstable_now,n_=xt.unstable_getCurrentPriorityLevel,Lu=xt.unstable_ImmediatePriority,Ef=xt.unstable_UserBlockingPriority,To=xt.unstable_NormalPriority,s_=xt.unstable_LowPriority,Nf=xt.unstable_IdlePriority,ua=null,cn=null;function r_(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(ua,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:a_,i_=Math.log,o_=Math.LN2;function a_(t){return t>>>=0,t===0?32:31-(i_(t)/o_|0)|0}var Bi=64,qi=4194304;function qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=qr(a):(i&=o,i!==0&&(s=qr(i)))}else o=n&~r,o!==0?s=qr(o):i!==0&&(s=qr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Qt(e),r=1<<n,s|=t[n],e&=~r;return s}function l_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u_(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=l_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Af(){var t=Bi;return Bi<<=1,!(Bi&4194240)&&(Bi=64),t}function el(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ki(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=n}function c_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Qt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function bu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Qt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ce=0;function Of(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mf,ju,Df,If,Rf,Wl=!1,Ui=[],Gn=null,Qn=null,Xn=null,ri=new Map,ii=new Map,qn=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ri.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(e.pointerId)}}function Fr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=xi(e),e!==null&&ju(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function d_(t,e,n,s,r){switch(e){case"focusin":return Gn=Fr(Gn,t,e,n,s,r),!0;case"dragenter":return Qn=Fr(Qn,t,e,n,s,r),!0;case"mouseover":return Xn=Fr(Xn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ri.set(i,Fr(ri.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ii.set(i,Fr(ii.get(i)||null,t,e,n,s,r)),!0}return!1}function Pf(t){var e=ms(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=kf(n),e!==null){t.blockedOn=e,Rf(t.priority,function(){Df(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Vl=s,n.target.dispatchEvent(s),Vl=null}else return e=xi(n),e!==null&&ju(e),t.blockedOn=n,!1;e.shift()}return!0}function Eh(t,e,n){ao(t)&&n.delete(e)}function f_(){Wl=!1,Gn!==null&&ao(Gn)&&(Gn=null),Qn!==null&&ao(Qn)&&(Qn=null),Xn!==null&&ao(Xn)&&(Xn=null),ri.forEach(Eh),ii.forEach(Eh)}function Vr(t,e){t.blockedOn===e&&(t.blockedOn=null,Wl||(Wl=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,f_)))}function oi(t){function e(r){return Vr(r,t)}if(0<Ui.length){Vr(Ui[0],t);for(var n=1;n<Ui.length;n++){var s=Ui[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Gn!==null&&Vr(Gn,t),Qn!==null&&Vr(Qn,t),Xn!==null&&Vr(Xn,t),ri.forEach(e),ii.forEach(e),n=0;n<qn.length;n++)s=qn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)Pf(n),n.blockedOn===null&&qn.shift()}var ir=Dn.ReactCurrentBatchConfig,Co=!0;function p_(t,e,n,s){var r=ce,i=ir.transition;ir.transition=null;try{ce=1,zu(t,e,n,s)}finally{ce=r,ir.transition=i}}function m_(t,e,n,s){var r=ce,i=ir.transition;ir.transition=null;try{ce=4,zu(t,e,n,s)}finally{ce=r,ir.transition=i}}function zu(t,e,n,s){if(Co){var r=Bl(t,e,n,s);if(r===null)cl(t,e,s,Eo,n),Ch(t,s);else if(d_(r,t,e,n,s))s.stopPropagation();else if(Ch(t,s),e&4&&-1<h_.indexOf(t)){for(;r!==null;){var i=xi(r);if(i!==null&&Mf(i),i=Bl(t,e,n,s),i===null&&cl(t,e,s,Eo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else cl(t,e,s,null,n)}}var Eo=null;function Bl(t,e,n,s){if(Eo=null,t=Vu(s),t=ms(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function Ff(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n_()){case Lu:return 1;case Ef:return 4;case To:case s_:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var $n=null,Wu=null,lo=null;function Vf(){if(lo)return lo;var t,e=Wu,n=e.length,s,r="value"in $n?$n.value:$n.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return lo=r.slice(t,1<s?1-s:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function Nh(){return!1}function Nt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:Nh,this.isPropagationStopped=Nh,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),e}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=Nt(xr),Ti=Ee({},xr,{view:0,detail:0}),g_=Nt(Ti),tl,nl,Lr,ca=Ee({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(tl=t.screenX-Lr.screenX,nl=t.screenY-Lr.screenY):nl=tl=0,Lr=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:nl}}),Ah=Nt(ca),__=Ee({},ca,{dataTransfer:0}),v_=Nt(__),y_=Ee({},Ti,{relatedTarget:0}),sl=Nt(y_),w_=Ee({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=Nt(w_),k_=Ee({},xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T_=Nt(k_),x_=Ee({},xr,{data:0}),Oh=Nt(x_),C_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N_[t])?!!e[t]:!1}function qu(){return A_}var O_=Ee({},Ti,{key:function(t){if(t.key){var e=C_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M_=Nt(O_),D_=Ee({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=Nt(D_),I_=Ee({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),R_=Nt(I_),P_=Ee({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F_=Nt(P_),V_=Ee({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=Nt(V_),b_=[9,13,27,32],Uu=En&&"CompositionEvent"in window,Gr=null;En&&"documentMode"in document&&(Gr=document.documentMode);var j_=En&&"TextEvent"in window&&!Gr,Lf=En&&(!Uu||Gr&&8<Gr&&11>=Gr),Dh=" ",Ih=!1;function bf(t,e){switch(t){case"keyup":return b_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function z_(t,e){switch(t){case"compositionend":return jf(e);case"keypress":return e.which!==32?null:(Ih=!0,Dh);case"textInput":return t=e.data,t===Dh&&Ih?null:t;default:return null}}function W_(t,e){if(qs)return t==="compositionend"||!Uu&&bf(t,e)?(t=Vf(),lo=Wu=$n=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lf&&e.locale!=="ko"?null:e.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!B_[t.type]:e==="textarea"}function zf(t,e,n,s){_f(s),e=No(e,"onChange"),0<e.length&&(n=new Bu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Qr=null,ai=null;function q_(t){Zf(t,0)}function ha(t){var e=Hs(t);if(cf(e))return t}function U_(t,e){if(t==="change")return e}var Wf=!1;if(En){var rl;if(En){var il="oninput"in document;if(!il){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),il=typeof Ph.oninput=="function"}rl=il}else rl=!1;Wf=rl&&(!document.documentMode||9<document.documentMode)}function Fh(){Qr&&(Qr.detachEvent("onpropertychange",Bf),ai=Qr=null)}function Bf(t){if(t.propertyName==="value"&&ha(ai)){var e=[];zf(e,ai,t,Vu(t)),Sf(q_,e)}}function $_(t,e,n){t==="focusin"?(Fh(),Qr=e,ai=n,Qr.attachEvent("onpropertychange",Bf)):t==="focusout"&&Fh()}function H_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ha(ai)}function G_(t,e){if(t==="click")return ha(e)}function Q_(t,e){if(t==="input"||t==="change")return ha(e)}function X_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zt=typeof Object.is=="function"?Object.is:X_;function li(t,e){if(Zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!xl.call(e,r)||!Zt(t[r],e[r]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,e){var n=Vh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function qf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uf(){for(var t=window,e=wo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wo(t.document)}return e}function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y_(t){var e=Uf(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qf(n.ownerDocument.documentElement,n)){if(s!==null&&$u(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Lh(n,i);var o=Lh(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z_=En&&"documentMode"in document&&11>=document.documentMode,Us=null,ql=null,Xr=null,Ul=!1;function bh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ul||Us==null||Us!==wo(s)||(s=Us,"selectionStart"in s&&$u(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xr&&li(Xr,s)||(Xr=s,s=No(ql,"onSelect"),0<s.length&&(e=new Bu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Us)))}function Hi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},ol={},$f={};En&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function da(t){if(ol[t])return ol[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $f)return ol[t]=e[n];return t}var Hf=da("animationend"),Gf=da("animationiteration"),Qf=da("animationstart"),Xf=da("transitionend"),Yf=new Map,jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){Yf.set(t,e),Is(e,[t])}for(var al=0;al<jh.length;al++){var ll=jh[al],K_=ll.toLowerCase(),J_=ll[0].toUpperCase()+ll.slice(1);os(K_,"on"+J_)}os(Hf,"onAnimationEnd");os(Gf,"onAnimationIteration");os(Qf,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(Xf,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function zh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Kg(s,e,void 0,t),t.currentTarget=null}function Zf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;zh(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;zh(r,a,u),i=l}}}if(ko)throw t=jl,ko=!1,jl=null,t}function _e(t,e){var n=e[Xl];n===void 0&&(n=e[Xl]=new Set);var s=t+"__bubble";n.has(s)||(Kf(e,t,2,!1),n.add(s))}function ul(t,e,n){var s=0;e&&(s|=4),Kf(n,t,s,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ui(t){if(!t[Gi]){t[Gi]=!0,rf.forEach(function(n){n!=="selectionchange"&&(ev.has(n)||ul(n,!1,t),ul(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,ul("selectionchange",!1,e))}}function Kf(t,e,n,s){switch(Ff(e)){case 1:var r=p_;break;case 4:r=m_;break;default:r=zu}n=r.bind(null,e,n,t),r=void 0,!bl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cl(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Sf(function(){var u=i,c=Vu(n),h=[];e:{var d=Yf.get(t);if(d!==void 0){var g=Bu,p=t;switch(t){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":g=M_;break;case"focusin":p="focus",g=sl;break;case"focusout":p="blur",g=sl;break;case"beforeblur":case"afterblur":g=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=v_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=R_;break;case Hf:case Gf:case Qf:g=S_;break;case Xf:g=F_;break;case"scroll":g=g_;break;case"wheel":g=L_;break;case"copy":case"cut":case"paste":g=T_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mh}var v=(e&4)!==0,w=!v&&t==="scroll",f=v?d!==null?d+"Capture":null:d;v=[];for(var m=u,_;m!==null;){_=m;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,f!==null&&(x=si(m,f),x!=null&&v.push(ci(m,x,_)))),w)break;m=m.return}0<v.length&&(d=new g(d,p,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Vl&&(p=n.relatedTarget||n.fromElement)&&(ms(p)||p[Nn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?ms(p):null,p!==null&&(w=Rs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(v=Ah,x="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mh,x="onPointerLeave",f="onPointerEnter",m="pointer"),w=g==null?d:Hs(g),_=p==null?d:Hs(p),d=new v(x,m+"leave",g,n,c),d.target=w,d.relatedTarget=_,x=null,ms(c)===u&&(v=new v(f,m+"enter",p,n,c),v.target=_,v.relatedTarget=w,x=v),w=x,g&&p)t:{for(v=g,f=p,m=0,_=v;_;_=js(_))m++;for(_=0,x=f;x;x=js(x))_++;for(;0<m-_;)v=js(v),m--;for(;0<_-m;)f=js(f),_--;for(;m--;){if(v===f||f!==null&&v===f.alternate)break t;v=js(v),f=js(f)}v=null}else v=null;g!==null&&Wh(h,d,g,v,!1),p!==null&&w!==null&&Wh(h,w,p,v,!0)}}e:{if(d=u?Hs(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var y=U_;else if(Rh(d))if(Wf)y=Q_;else{y=H_;var k=$_}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(y=G_);if(y&&(y=y(t,u))){zf(h,y,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Dl(d,"number",d.value)}switch(k=u?Hs(u):window,t){case"focusin":(Rh(k)||k.contentEditable==="true")&&(Us=k,ql=u,Xr=null);break;case"focusout":Xr=ql=Us=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,bh(h,n,c);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":bh(h,n,c)}var T;if(Uu)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qs?bf(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Lf&&n.locale!=="ko"&&(qs||S!=="onCompositionStart"?S==="onCompositionEnd"&&qs&&(T=Vf()):($n=c,Wu="value"in $n?$n.value:$n.textContent,qs=!0)),k=No(u,S),0<k.length&&(S=new Oh(S,t,null,n,c),h.push({event:S,listeners:k}),T?S.data=T:(T=jf(n),T!==null&&(S.data=T)))),(T=j_?z_(t,n):W_(t,n))&&(u=No(u,"onBeforeInput"),0<u.length&&(c=new Oh("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}Zf(h,e)})}function ci(t,e,n){return{instance:t,listener:e,currentTarget:n}}function No(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=si(t,n),i!=null&&s.unshift(ci(t,i,r)),i=si(t,e),i!=null&&s.push(ci(t,i,r))),t=t.return}return s}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=si(n,i),l!=null&&o.unshift(ci(n,l,a))):r||(l=si(n,i),l!=null&&o.push(ci(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function Bh(t){return(typeof t=="string"?t:""+t).replace(tv,`
`).replace(nv,"")}function Qi(t,e,n){if(e=Bh(e),Bh(t)!==e&&n)throw Error(D(425))}function Ao(){}var $l=null,Hl=null;function Gl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(t){return qh.resolve(null).then(t).catch(iv)}:Ql;function iv(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),oi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);oi(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),un="__reactFiber$"+Cr,hi="__reactProps$"+Cr,Nn="__reactContainer$"+Cr,Xl="__reactEvents$"+Cr,ov="__reactListeners$"+Cr,av="__reactHandles$"+Cr;function ms(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uh(t);t!==null;){if(n=t[un])return n;t=Uh(t)}return e}t=n,n=t.parentNode}return null}function xi(t){return t=t[un]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function fa(t){return t[hi]||null}var Yl=[],Gs=-1;function as(t){return{current:t}}function ye(t){0>Gs||(t.current=Yl[Gs],Yl[Gs]=null,Gs--)}function pe(t,e){Gs++,Yl[Gs]=t.current,t.current=e}var ss={},et=as(ss),gt=as(!1),Ts=ss;function hr(t,e){var n=t.type.contextTypes;if(!n)return ss;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function _t(t){return t=t.childContextTypes,t!=null}function Oo(){ye(gt),ye(et)}function $h(t,e,n){if(et.current!==ss)throw Error(D(168));pe(et,e),pe(gt,n)}function Jf(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(D(108,$g(t)||"Unknown",r));return Ee({},n,s)}function Mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ss,Ts=et.current,pe(et,t),pe(gt,gt.current),!0}function Hh(t,e,n){var s=t.stateNode;if(!s)throw Error(D(169));n?(t=Jf(t,e,Ts),s.__reactInternalMemoizedMergedChildContext=t,ye(gt),ye(et),pe(et,t)):ye(gt),pe(gt,n)}var Sn=null,pa=!1,dl=!1;function ep(t){Sn===null?Sn=[t]:Sn.push(t)}function lv(t){pa=!0,ep(t)}function ls(){if(!dl&&Sn!==null){dl=!0;var t=0,e=ce;try{var n=Sn;for(ce=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Sn=null,pa=!1}catch(r){throw Sn!==null&&(Sn=Sn.slice(t+1)),Cf(Lu,ls),r}finally{ce=e,dl=!1}}return null}var Qs=[],Xs=0,Do=null,Io=0,Dt=[],It=0,xs=null,kn=1,Tn="";function fs(t,e){Qs[Xs++]=Io,Qs[Xs++]=Do,Do=t,Io=e}function tp(t,e,n){Dt[It++]=kn,Dt[It++]=Tn,Dt[It++]=xs,xs=t;var s=kn;t=Tn;var r=32-Qt(s)-1;s&=~(1<<r),n+=1;var i=32-Qt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,kn=1<<32-Qt(e)+r|n<<r|s,Tn=i+t}else kn=1<<i|n<<r|s,Tn=t}function Hu(t){t.return!==null&&(fs(t,1),tp(t,1,0))}function Gu(t){for(;t===Do;)Do=Qs[--Xs],Qs[Xs]=null,Io=Qs[--Xs],Qs[Xs]=null;for(;t===xs;)xs=Dt[--It],Dt[It]=null,Tn=Dt[--It],Dt[It]=null,kn=Dt[--It],Dt[It]=null}var Tt=null,kt=null,Te=!1,$t=null;function np(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,kt=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xs!==null?{id:kn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tt=t,kt=null,!0):!1;default:return!1}}function Zl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kl(t){if(Te){var e=kt;if(e){var n=e;if(!Gh(t,e)){if(Zl(t))throw Error(D(418));e=Yn(n.nextSibling);var s=Tt;e&&Gh(t,e)?np(s,n):(t.flags=t.flags&-4097|2,Te=!1,Tt=t)}}else{if(Zl(t))throw Error(D(418));t.flags=t.flags&-4097|2,Te=!1,Tt=t}}}function Qh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Xi(t){if(t!==Tt)return!1;if(!Te)return Qh(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gl(t.type,t.memoizedProps)),e&&(e=kt)){if(Zl(t))throw sp(),Error(D(418));for(;e;)np(t,e),e=Yn(e.nextSibling)}if(Qh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Tt?Yn(t.stateNode.nextSibling):null;return!0}function sp(){for(var t=kt;t;)t=Yn(t.nextSibling)}function dr(){kt=Tt=null,Te=!1}function Qu(t){$t===null?$t=[t]:$t.push(t)}var uv=Dn.ReactCurrentBatchConfig;function br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Yi(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xh(t){var e=t._init;return e(t._payload)}function rp(t){function e(f,m){if(t){var _=f.deletions;_===null?(f.deletions=[m],f.flags|=16):_.push(m)}}function n(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function r(f,m){return f=es(f,m),f.index=0,f.sibling=null,f}function i(f,m,_){return f.index=_,t?(_=f.alternate,_!==null?(_=_.index,_<m?(f.flags|=2,m):_):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,_,x){return m===null||m.tag!==6?(m=yl(_,f.mode,x),m.return=f,m):(m=r(m,_),m.return=f,m)}function l(f,m,_,x){var y=_.type;return y===Bs?c(f,m,_.props.children,x,_.key):m!==null&&(m.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===zn&&Xh(y)===m.type)?(x=r(m,_.props),x.ref=br(f,m,_),x.return=f,x):(x=_o(_.type,_.key,_.props,null,f.mode,x),x.ref=br(f,m,_),x.return=f,x)}function u(f,m,_,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=wl(_,f.mode,x),m.return=f,m):(m=r(m,_.children||[]),m.return=f,m)}function c(f,m,_,x,y){return m===null||m.tag!==7?(m=ys(_,f.mode,x,y),m.return=f,m):(m=r(m,_),m.return=f,m)}function h(f,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,f.mode,_),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return _=_o(m.type,m.key,m.props,null,f.mode,_),_.ref=br(f,null,m),_.return=f,_;case Ws:return m=wl(m,f.mode,_),m.return=f,m;case zn:var x=m._init;return h(f,x(m._payload),_)}if(Br(m)||Rr(m))return m=ys(m,f.mode,_,null),m.return=f,m;Yi(f,m)}return null}function d(f,m,_,x){var y=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return y!==null?null:a(f,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ji:return _.key===y?l(f,m,_,x):null;case Ws:return _.key===y?u(f,m,_,x):null;case zn:return y=_._init,d(f,m,y(_._payload),x)}if(Br(_)||Rr(_))return y!==null?null:c(f,m,_,x,null);Yi(f,_)}return null}function g(f,m,_,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(_)||null,a(m,f,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ji:return f=f.get(x.key===null?_:x.key)||null,l(m,f,x,y);case Ws:return f=f.get(x.key===null?_:x.key)||null,u(m,f,x,y);case zn:var k=x._init;return g(f,m,_,k(x._payload),y)}if(Br(x)||Rr(x))return f=f.get(_)||null,c(m,f,x,y,null);Yi(m,x)}return null}function p(f,m,_,x){for(var y=null,k=null,T=m,S=m=0,E=null;T!==null&&S<_.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var C=d(f,T,_[S],x);if(C===null){T===null&&(T=E);break}t&&T&&C.alternate===null&&e(f,T),m=i(C,m,S),k===null?y=C:k.sibling=C,k=C,T=E}if(S===_.length)return n(f,T),Te&&fs(f,S),y;if(T===null){for(;S<_.length;S++)T=h(f,_[S],x),T!==null&&(m=i(T,m,S),k===null?y=T:k.sibling=T,k=T);return Te&&fs(f,S),y}for(T=s(f,T);S<_.length;S++)E=g(T,f,S,_[S],x),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),m=i(E,m,S),k===null?y=E:k.sibling=E,k=E);return t&&T.forEach(function(N){return e(f,N)}),Te&&fs(f,S),y}function v(f,m,_,x){var y=Rr(_);if(typeof y!="function")throw Error(D(150));if(_=y.call(_),_==null)throw Error(D(151));for(var k=y=null,T=m,S=m=0,E=null,C=_.next();T!==null&&!C.done;S++,C=_.next()){T.index>S?(E=T,T=null):E=T.sibling;var N=d(f,T,C.value,x);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(f,T),m=i(N,m,S),k===null?y=N:k.sibling=N,k=N,T=E}if(C.done)return n(f,T),Te&&fs(f,S),y;if(T===null){for(;!C.done;S++,C=_.next())C=h(f,C.value,x),C!==null&&(m=i(C,m,S),k===null?y=C:k.sibling=C,k=C);return Te&&fs(f,S),y}for(T=s(f,T);!C.done;S++,C=_.next())C=g(T,f,S,C.value,x),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?S:C.key),m=i(C,m,S),k===null?y=C:k.sibling=C,k=C);return t&&T.forEach(function(A){return e(f,A)}),Te&&fs(f,S),y}function w(f,m,_,x){if(typeof _=="object"&&_!==null&&_.type===Bs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ji:e:{for(var y=_.key,k=m;k!==null;){if(k.key===y){if(y=_.type,y===Bs){if(k.tag===7){n(f,k.sibling),m=r(k,_.props.children),m.return=f,f=m;break e}}else if(k.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===zn&&Xh(y)===k.type){n(f,k.sibling),m=r(k,_.props),m.ref=br(f,k,_),m.return=f,f=m;break e}n(f,k);break}else e(f,k);k=k.sibling}_.type===Bs?(m=ys(_.props.children,f.mode,x,_.key),m.return=f,f=m):(x=_o(_.type,_.key,_.props,null,f.mode,x),x.ref=br(f,m,_),x.return=f,f=x)}return o(f);case Ws:e:{for(k=_.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(f,m.sibling),m=r(m,_.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else e(f,m);m=m.sibling}m=wl(_,f.mode,x),m.return=f,f=m}return o(f);case zn:return k=_._init,w(f,m,k(_._payload),x)}if(Br(_))return p(f,m,_,x);if(Rr(_))return v(f,m,_,x);Yi(f,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(f,m.sibling),m=r(m,_),m.return=f,f=m):(n(f,m),m=yl(_,f.mode,x),m.return=f,f=m),o(f)):n(f,m)}return w}var fr=rp(!0),ip=rp(!1),Ro=as(null),Po=null,Ys=null,Xu=null;function Yu(){Xu=Ys=Po=null}function Zu(t){var e=Ro.current;ye(Ro),t._currentValue=e}function Jl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function or(t,e){Po=t,Xu=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(Xu!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Po===null)throw Error(D(308));Ys=t,Po.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var gs=null;function Ku(t){gs===null?gs=[t]:gs.push(t)}function op(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Ku(e)):(n.next=r.next,r.next=n),e.interleaved=n,An(t,s)}function An(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,re&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,An(t,n)}return r=s.interleaved,r===null?(e.next=e,Ku(s)):(e.next=r.next,r.next=e),s.interleaved=e,An(t,n)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,bu(t,n)}}function Yh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,s){var r=t.updateQueue;Wn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(d=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=Ee({},h,d);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=h}}function Zh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(D(191,r));r.call(s)}}}var Ci={},hn=as(Ci),di=as(Ci),fi=as(Ci);function _s(t){if(t===Ci)throw Error(D(174));return t}function ec(t,e){switch(pe(fi,e),pe(di,t),pe(hn,Ci),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rl(e,t)}ye(hn),pe(hn,e)}function pr(){ye(hn),ye(di),ye(fi)}function lp(t){_s(fi.current);var e=_s(hn.current),n=Rl(e,t.type);e!==n&&(pe(di,t),pe(hn,n))}function tc(t){di.current===t&&(ye(hn),ye(di))}var xe=as(0);function Vo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fl=[];function nc(){for(var t=0;t<fl.length;t++)fl[t]._workInProgressVersionPrimary=null;fl.length=0}var ho=Dn.ReactCurrentDispatcher,pl=Dn.ReactCurrentBatchConfig,Cs=0,Ce=null,Le=null,Be=null,Lo=!1,Yr=!1,pi=0,cv=0;function Ze(){throw Error(D(321))}function sc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zt(t[n],e[n]))return!1;return!0}function rc(t,e,n,s,r,i){if(Cs=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=t===null||t.memoizedState===null?pv:mv,t=n(s,r),Yr){i=0;do{if(Yr=!1,pi=0,25<=i)throw Error(D(301));i+=1,Be=Le=null,e.updateQueue=null,ho.current=gv,t=n(s,r)}while(Yr)}if(ho.current=bo,e=Le!==null&&Le.next!==null,Cs=0,Be=Le=Ce=null,Lo=!1,e)throw Error(D(300));return t}function ic(){var t=pi!==0;return pi=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ce.memoizedState=Be=t:Be=Be.next=t,Be}function Wt(){if(Le===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Be===null?Ce.memoizedState:Be.next;if(e!==null)Be=e,Le=t;else{if(t===null)throw Error(D(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Be===null?Ce.memoizedState=Be=t:Be=Be.next=t}return Be}function mi(t,e){return typeof e=="function"?e(t):e}function ml(t){var e=Wt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var s=Le,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,Ce.lanes|=c,Es|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Zt(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Ce.lanes|=i,Es|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gl(t){var e=Wt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Zt(i,e.memoizedState)||(mt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function up(){}function cp(t,e){var n=Ce,s=Wt(),r=e(),i=!Zt(s.memoizedState,r);if(i&&(s.memoizedState=r,mt=!0),s=s.queue,oc(fp.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,gi(9,dp.bind(null,n,s,r,e),void 0,null),qe===null)throw Error(D(349));Cs&30||hp(n,e,r)}return r}function hp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dp(t,e,n,s){e.value=n,e.getSnapshot=s,pp(e)&&mp(t)}function fp(t,e,n){return n(function(){pp(e)&&mp(t)})}function pp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zt(t,n)}catch{return!0}}function mp(t){var e=An(t,1);e!==null&&Xt(e,t,1,-1)}function Kh(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},e.queue=t,t=t.dispatch=fv.bind(null,Ce,t),[e.memoizedState,t]}function gi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function gp(){return Wt().memoizedState}function fo(t,e,n,s){var r=ln();Ce.flags|=t,r.memoizedState=gi(1|e,n,void 0,s===void 0?null:s)}function ma(t,e,n,s){var r=Wt();s=s===void 0?null:s;var i=void 0;if(Le!==null){var o=Le.memoizedState;if(i=o.destroy,s!==null&&sc(s,o.deps)){r.memoizedState=gi(e,n,i,s);return}}Ce.flags|=t,r.memoizedState=gi(1|e,n,i,s)}function Jh(t,e){return fo(8390656,8,t,e)}function oc(t,e){return ma(2048,8,t,e)}function _p(t,e){return ma(4,2,t,e)}function vp(t,e){return ma(4,4,t,e)}function yp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wp(t,e,n){return n=n!=null?n.concat([t]):null,ma(4,4,yp.bind(null,e,t),n)}function ac(){}function Sp(t,e){var n=Wt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&sc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function kp(t,e){var n=Wt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&sc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Tp(t,e,n){return Cs&21?(Zt(n,e)||(n=Af(),Ce.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function hv(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var s=pl.transition;pl.transition={};try{t(!1),e()}finally{ce=n,pl.transition=s}}function xp(){return Wt().memoizedState}function dv(t,e,n){var s=Jn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Cp(t))Ep(e,n);else if(n=op(t,e,n,s),n!==null){var r=it();Xt(n,t,s,r),Np(n,e,s)}}function fv(t,e,n){var s=Jn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cp(t))Ep(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Zt(a,o)){var l=e.interleaved;l===null?(r.next=r,Ku(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=op(t,e,r,s),n!==null&&(r=it(),Xt(n,t,s,r),Np(n,e,s))}}function Cp(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function Ep(t,e){Yr=Lo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Np(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,bu(t,n)}}var bo={readContext:zt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},pv={readContext:zt,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:Jh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fo(4194308,4,yp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=ln();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=dv.bind(null,Ce,t),[s.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Kh,useDebugValue:ac,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Kh(!1),e=t[0];return t=hv.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ce,r=ln();if(Te){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),qe===null)throw Error(D(349));Cs&30||hp(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Jh(fp.bind(null,s,i,t),[t]),s.flags|=2048,gi(9,dp.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=ln(),e=qe.identifierPrefix;if(Te){var n=Tn,s=kn;n=(s&~(1<<32-Qt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=pi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mv={readContext:zt,useCallback:Sp,useContext:zt,useEffect:oc,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:kp,useReducer:ml,useRef:gp,useState:function(){return ml(mi)},useDebugValue:ac,useDeferredValue:function(t){var e=Wt();return Tp(e,Le.memoizedState,t)},useTransition:function(){var t=ml(mi)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:up,useSyncExternalStore:cp,useId:xp,unstable_isNewReconciler:!1},gv={readContext:zt,useCallback:Sp,useContext:zt,useEffect:oc,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:kp,useReducer:gl,useRef:gp,useState:function(){return gl(mi)},useDebugValue:ac,useDeferredValue:function(t){var e=Wt();return Le===null?e.memoizedState=t:Tp(e,Le.memoizedState,t)},useTransition:function(){var t=gl(mi)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:up,useSyncExternalStore:cp,useId:xp,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eu(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ga={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=it(),r=Jn(t),i=xn(s,r);i.payload=e,n!=null&&(i.callback=n),e=Zn(t,i,r),e!==null&&(Xt(e,t,r,s),co(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=it(),r=Jn(t),i=xn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zn(t,i,r),e!==null&&(Xt(e,t,r,s),co(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),s=Jn(t),r=xn(n,s);r.tag=2,e!=null&&(r.callback=e),e=Zn(t,r,s),e!==null&&(Xt(e,t,s,n),co(e,t,s))}};function ed(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!li(n,s)||!li(r,i):!0}function Ap(t,e,n){var s=!1,r=ss,i=e.contextType;return typeof i=="object"&&i!==null?i=zt(i):(r=_t(e)?Ts:et.current,s=e.contextTypes,i=(s=s!=null)?hr(t,r):ss),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ga,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function td(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ga.enqueueReplaceState(e,e.state,null)}function tu(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ju(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=zt(i):(i=_t(e)?Ts:et.current,r.context=hr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(eu(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ga.enqueueReplaceState(r,r.state,null),Fo(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",s=e;do n+=Ug(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function _l(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _v=typeof WeakMap=="function"?WeakMap:Map;function Op(t,e,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){zo||(zo=!0,du=s),nu(t,e)},n}function Mp(t,e,n){n=xn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){nu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nu(t,e),typeof s!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new _v;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Dv.bind(null,t,e,n),e.then(t,t))}function sd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rd(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xn(-1,1),e.tag=2,Zn(n,e,1))),n.lanes|=1),t)}var vv=Dn.ReactCurrentOwner,mt=!1;function nt(t,e,n,s){e.child=t===null?ip(e,null,n,s):fr(e,t.child,n,s)}function id(t,e,n,s,r){n=n.render;var i=e.ref;return or(e,r),s=rc(t,e,n,s,i,r),n=ic(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,On(t,e,r)):(Te&&n&&Hu(e),e.flags|=1,nt(t,e,s,r),e.child)}function od(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!mc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Dp(t,e,i,s,r)):(t=_o(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:li,n(o,s)&&t.ref===e.ref)return On(t,e,r)}return e.flags|=1,t=es(i,s),t.ref=e.ref,t.return=e,e.child=t}function Dp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(li(i,s)&&t.ref===e.ref)if(mt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,On(t,e,r)}return su(t,e,n,s,r)}function Ip(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ks,wt),wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Ks,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,pe(Ks,wt),wt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,pe(Ks,wt),wt|=s;return nt(t,e,r,n),e.child}function Rp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function su(t,e,n,s,r){var i=_t(n)?Ts:et.current;return i=hr(e,i),or(e,r),n=rc(t,e,n,s,i,r),s=ic(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,On(t,e,r)):(Te&&s&&Hu(e),e.flags|=1,nt(t,e,n,r),e.child)}function ad(t,e,n,s,r){if(_t(n)){var i=!0;Mo(e)}else i=!1;if(or(e,r),e.stateNode===null)po(t,e),Ap(e,n,s),tu(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=_t(n)?Ts:et.current,u=hr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&td(e,o,s,u),Wn=!1;var d=e.memoizedState;o.state=d,Fo(e,s,o,r),l=e.memoizedState,a!==s||d!==l||gt.current||Wn?(typeof c=="function"&&(eu(e,n,c,s),l=e.memoizedState),(a=Wn||ed(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,ap(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=_t(n)?Ts:et.current,l=hr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&td(e,o,s,l),Wn=!1,d=e.memoizedState,o.state=d,Fo(e,s,o,r);var p=e.memoizedState;a!==h||d!==p||gt.current||Wn?(typeof g=="function"&&(eu(e,n,g,s),p=e.memoizedState),(u=Wn||ed(e,n,u,s,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return ru(t,e,n,s,i,r)}function ru(t,e,n,s,r,i){Rp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Hh(e,n,!1),On(t,e,i);s=e.stateNode,vv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=fr(e,t.child,null,i),e.child=fr(e,null,a,i)):nt(t,e,a,i),e.memoizedState=s.state,r&&Hh(e,n,!0),e.child}function Pp(t){var e=t.stateNode;e.pendingContext?$h(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$h(t,e.context,!1),ec(t,e.containerInfo)}function ld(t,e,n,s,r){return dr(),Qu(r),e.flags|=256,nt(t,e,n,s),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fp(t,e,n){var s=e.pendingProps,r=xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),pe(xe,r&1),t===null)return Kl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ya(o,s,0,null),t=ys(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ou(n),e.memoizedState=iu,t):lc(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return yv(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=es(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=es(a,i):(i=ys(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?ou(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=iu,s}return i=t.child,t=i.sibling,s=es(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function lc(t,e){return e=ya({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zi(t,e,n,s){return s!==null&&Qu(s),fr(e,t.child,null,n),t=lc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yv(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=_l(Error(D(422))),Zi(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=ya({mode:"visible",children:s.children},r,0,null),i=ys(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&fr(e,t.child,null,o),e.child.memoizedState=ou(o),e.memoizedState=iu,i);if(!(e.mode&1))return Zi(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(D(419)),s=_l(i,s,void 0),Zi(t,e,o,s)}if(a=(o&t.childLanes)!==0,mt||a){if(s=qe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,An(t,r),Xt(s,t,r,-1))}return pc(),s=_l(Error(D(421))),Zi(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Iv.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,kt=Yn(r.nextSibling),Tt=e,Te=!0,$t=null,t!==null&&(Dt[It++]=kn,Dt[It++]=Tn,Dt[It++]=xs,kn=t.id,Tn=t.overflow,xs=e),e=lc(e,s.children),e.flags|=4096,e)}function ud(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Jl(t.return,e,n)}function vl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Vp(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(nt(t,e,s.children,n),s=xe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ud(t,n,e);else if(t.tag===19)ud(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(pe(xe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),vl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vl(e,!0,n,null,i);break;case"together":vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function On(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wv(t,e,n){switch(e.tag){case 3:Pp(e),dr();break;case 5:lp(e);break;case 1:_t(e.type)&&Mo(e);break;case 4:ec(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;pe(Ro,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(pe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?Fp(t,e,n):(pe(xe,xe.current&1),t=On(t,e,n),t!==null?t.sibling:null);pe(xe,xe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Vp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),pe(xe,xe.current),s)break;return null;case 22:case 23:return e.lanes=0,Ip(t,e,n)}return On(t,e,n)}var Lp,au,bp,jp;Lp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};au=function(){};bp=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,_s(hn.current);var i=null;switch(n){case"input":r=Ol(t,r),s=Ol(t,s),i=[];break;case"select":r=Ee({},r,{value:void 0}),s=Ee({},s,{value:void 0}),i=[];break;case"textarea":r=Il(t,r),s=Il(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Ao)}Pl(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};jp=function(t,e,n,s){n!==s&&(e.flags|=4)};function jr(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Sv(t,e,n){var s=e.pendingProps;switch(Gu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return _t(e.type)&&Oo(),Ke(e),null;case 3:return s=e.stateNode,pr(),ye(gt),ye(et),nc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(mu($t),$t=null))),au(t,e),Ke(e),null;case 5:tc(e);var r=_s(fi.current);if(n=e.type,t!==null&&e.stateNode!=null)bp(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(D(166));return Ke(e),null}if(t=_s(hn.current),Xi(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[un]=e,s[hi]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(r=0;r<Ur.length;r++)_e(Ur[r],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":vh(s,i),_e("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},_e("invalid",s);break;case"textarea":wh(s,i),_e("invalid",s)}Pl(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qi(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qi(s.textContent,a,t),r=["children",""+a]):ti.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",s)}switch(n){case"input":zi(s),yh(s,i,!0);break;case"textarea":zi(s),Sh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ao)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ff(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[un]=e,t[hi]=s,Lp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fl(n,s),n){case"dialog":_e("cancel",t),_e("close",t),r=s;break;case"iframe":case"object":case"embed":_e("load",t),r=s;break;case"video":case"audio":for(r=0;r<Ur.length;r++)_e(Ur[r],t);r=s;break;case"source":_e("error",t),r=s;break;case"img":case"image":case"link":_e("error",t),_e("load",t),r=s;break;case"details":_e("toggle",t),r=s;break;case"input":vh(t,s),r=Ol(t,s),_e("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ee({},s,{value:void 0}),_e("invalid",t);break;case"textarea":wh(t,s),r=Il(t,s),_e("invalid",t);break;default:r=s}Pl(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ni(t,l):typeof l=="number"&&ni(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ti.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&Iu(t,i,l,o))}switch(n){case"input":zi(t),yh(t,s,!1);break;case"textarea":zi(t),Sh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+ns(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?nr(t,!!s.multiple,i,!1):s.defaultValue!=null&&nr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ao)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)jp(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(D(166));if(n=_s(fi.current),_s(hn.current),Xi(e)){if(s=e.stateNode,n=e.memoizedProps,s[un]=e,(i=s.nodeValue!==n)&&(t=Tt,t!==null))switch(t.tag){case 3:Qi(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qi(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[un]=e,e.stateNode=s}return Ke(e),null;case 13:if(ye(xe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&kt!==null&&e.mode&1&&!(e.flags&128))sp(),dr(),e.flags|=98560,i=!1;else if(i=Xi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[un]=e}else dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),i=!1}else $t!==null&&(mu($t),$t=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?be===0&&(be=3):pc())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return pr(),au(t,e),t===null&&ui(e.stateNode.containerInfo),Ke(e),null;case 10:return Zu(e.type._context),Ke(e),null;case 17:return _t(e.type)&&Oo(),Ke(e),null;case 19:if(ye(xe),i=e.memoizedState,i===null)return Ke(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)jr(i,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vo(t),o!==null){for(e.flags|=128,jr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>gr&&(e.flags|=128,s=!0,jr(i,!1),e.lanes=4194304)}else{if(!s)if(t=Vo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return Ke(e),null}else 2*De()-i.renderingStartTime>gr&&n!==1073741824&&(e.flags|=128,s=!0,jr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,n=xe.current,pe(xe,s?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return fc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?wt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function kv(t,e){switch(Gu(e),e.tag){case 1:return _t(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),ye(gt),ye(et),nc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tc(e),null;case 13:if(ye(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(xe),null;case 4:return pr(),null;case 10:return Zu(e.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Ki=!1,Je=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,z=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ae(t,e,s)}else n.current=null}function lu(t,e,n){try{n()}catch(s){Ae(t,e,s)}}var cd=!1;function xv(t,e){if($l=Co,t=Uf(),$u(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hl={focusedElem:t,selectionRange:n},Co=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:qt(e.type,v),w);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){Ae(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return p=cd,cd=!1,p}function Zr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&lu(e,n,i)}r=r.next}while(r!==s)}}function _a(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function uu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zp(t){var e=t.alternate;e!==null&&(t.alternate=null,zp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[hi],delete e[Xl],delete e[ov],delete e[av])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wp(t){return t.tag===5||t.tag===3||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ao));else if(s!==4&&(t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}function hu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(hu(t,e,n),t=t.sibling;t!==null;)hu(t,e,n),t=t.sibling}var He=null,Ut=!1;function bn(t,e,n){for(n=n.child;n!==null;)Bp(t,e,n),n=n.sibling}function Bp(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(ua,n)}catch{}switch(n.tag){case 5:Je||Zs(n,e);case 6:var s=He,r=Ut;He=null,bn(t,e,n),He=s,Ut=r,He!==null&&(Ut?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ut?(t=He,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),oi(t)):hl(He,n.stateNode));break;case 4:s=He,r=Ut,He=n.stateNode.containerInfo,Ut=!0,bn(t,e,n),He=s,Ut=r;break;case 0:case 11:case 14:case 15:if(!Je&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lu(n,e,o),r=r.next}while(r!==s)}bn(t,e,n);break;case 1:if(!Je&&(Zs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Ae(n,e,a)}bn(t,e,n);break;case 21:bn(t,e,n);break;case 22:n.mode&1?(Je=(s=Je)||n.memoizedState!==null,bn(t,e,n),Je=s):bn(t,e,n);break;default:bn(t,e,n)}}function dd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tv),e.forEach(function(s){var r=Rv.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Bt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Ut=!1;break e;case 3:He=a.stateNode.containerInfo,Ut=!0;break e;case 4:He=a.stateNode.containerInfo,Ut=!0;break e}a=a.return}if(He===null)throw Error(D(160));Bp(i,o,r),He=null,Ut=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ae(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qp(e,t),e=e.sibling}function qp(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bt(e,t),an(t),s&4){try{Zr(3,t,t.return),_a(3,t)}catch(v){Ae(t,t.return,v)}try{Zr(5,t,t.return)}catch(v){Ae(t,t.return,v)}}break;case 1:Bt(e,t),an(t),s&512&&n!==null&&Zs(n,n.return);break;case 5:if(Bt(e,t),an(t),s&512&&n!==null&&Zs(n,n.return),t.flags&32){var r=t.stateNode;try{ni(r,"")}catch(v){Ae(t,t.return,v)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hf(r,i),Fl(a,o);var u=Fl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?gf(r,h):c==="dangerouslySetInnerHTML"?pf(r,h):c==="children"?ni(r,h):Iu(r,c,h,u)}switch(a){case"input":Ml(r,i);break;case"textarea":df(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?nr(r,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?nr(r,!!i.multiple,i.defaultValue,!0):nr(r,!!i.multiple,i.multiple?[]:"",!1))}r[hi]=i}catch(v){Ae(t,t.return,v)}}break;case 6:if(Bt(e,t),an(t),s&4){if(t.stateNode===null)throw Error(D(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(v){Ae(t,t.return,v)}}break;case 3:if(Bt(e,t),an(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{oi(e.containerInfo)}catch(v){Ae(t,t.return,v)}break;case 4:Bt(e,t),an(t);break;case 13:Bt(e,t),an(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(hc=De())),s&4&&dd(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(u=Je)||c,Bt(e,t),Je=u):Bt(e,t),an(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(h=z=c;z!==null;){switch(d=z,g=d.child,d.tag){case 0:case 11:case 14:case 15:Zr(4,d,d.return);break;case 1:Zs(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Ae(s,n,v)}}break;case 5:Zs(d,d.return);break;case 22:if(d.memoizedState!==null){pd(h);continue}}g!==null?(g.return=d,z=g):pd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mf("display",o))}catch(v){Ae(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ae(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bt(e,t),an(t),s&4&&dd(t);break;case 21:break;default:Bt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wp(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(ni(r,""),s.flags&=-33);var i=hd(t);hu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=hd(t);cu(t,a,o);break;default:throw Error(D(161))}}catch(l){Ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cv(t,e,n){z=t,Up(t)}function Up(t,e,n){for(var s=(t.mode&1)!==0;z!==null;){var r=z,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ki;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Je;a=Ki;var u=Je;if(Ki=o,(Je=l)&&!u)for(z=r;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?md(r):l!==null?(l.return=o,z=l):md(r);for(;i!==null;)z=i,Up(i),i=i.sibling;z=r,Ki=a,Je=u}fd(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,z=i):fd(t)}}function fd(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||_a(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Je)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:qt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zh(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&oi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Je||e.flags&512&&uu(e)}catch(d){Ae(e,e.return,d)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function pd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function md(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_a(4,e)}catch(l){Ae(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Ae(e,r,l)}}var i=e.return;try{uu(e)}catch(l){Ae(e,i,l)}break;case 5:var o=e.return;try{uu(e)}catch(l){Ae(e,o,l)}}}catch(l){Ae(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var Ev=Math.ceil,jo=Dn.ReactCurrentDispatcher,uc=Dn.ReactCurrentOwner,Lt=Dn.ReactCurrentBatchConfig,re=0,qe=null,Pe=null,Ge=0,wt=0,Ks=as(0),be=0,_i=null,Es=0,va=0,cc=0,Kr=null,ft=null,hc=0,gr=1/0,yn=null,zo=!1,du=null,Kn=null,Ji=!1,Hn=null,Wo=0,Jr=0,fu=null,mo=-1,go=0;function it(){return re&6?De():mo!==-1?mo:mo=De()}function Jn(t){return t.mode&1?re&2&&Ge!==0?Ge&-Ge:uv.transition!==null?(go===0&&(go=Af()),go):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Ff(t.type)),t):1}function Xt(t,e,n,s){if(50<Jr)throw Jr=0,fu=null,Error(D(185));ki(t,n,s),(!(re&2)||t!==qe)&&(t===qe&&(!(re&2)&&(va|=n),be===4&&Un(t,Ge)),vt(t,s),n===1&&re===0&&!(e.mode&1)&&(gr=De()+500,pa&&ls()))}function vt(t,e){var n=t.callbackNode;u_(t,e);var s=xo(t,t===qe?Ge:0);if(s===0)n!==null&&xh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&xh(n),e===1)t.tag===0?lv(gd.bind(null,t)):ep(gd.bind(null,t)),rv(function(){!(re&6)&&ls()}),n=null;else{switch(Of(s)){case 1:n=Lu;break;case 4:n=Ef;break;case 16:n=To;break;case 536870912:n=Nf;break;default:n=To}n=Kp(n,$p.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $p(t,e){if(mo=-1,go=0,re&6)throw Error(D(327));var n=t.callbackNode;if(ar()&&t.callbackNode!==n)return null;var s=xo(t,t===qe?Ge:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Bo(t,s);else{e=s;var r=re;re|=2;var i=Gp();(qe!==t||Ge!==e)&&(yn=null,gr=De()+500,vs(t,e));do try{Ov();break}catch(a){Hp(t,a)}while(!0);Yu(),jo.current=i,re=r,Pe!==null?e=0:(qe=null,Ge=0,e=be)}if(e!==0){if(e===2&&(r=zl(t),r!==0&&(s=r,e=pu(t,r))),e===1)throw n=_i,vs(t,0),Un(t,s),vt(t,De()),n;if(e===6)Un(t,s);else{if(r=t.current.alternate,!(s&30)&&!Nv(r)&&(e=Bo(t,s),e===2&&(i=zl(t),i!==0&&(s=i,e=pu(t,i))),e===1))throw n=_i,vs(t,0),Un(t,s),vt(t,De()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(D(345));case 2:ps(t,ft,yn);break;case 3:if(Un(t,s),(s&130023424)===s&&(e=hc+500-De(),10<e)){if(xo(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){it(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ql(ps.bind(null,t,ft,yn),e);break}ps(t,ft,yn);break;case 4:if(Un(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Qt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=De()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ev(s/1960))-s,10<s){t.timeoutHandle=Ql(ps.bind(null,t,ft,yn),s);break}ps(t,ft,yn);break;case 5:ps(t,ft,yn);break;default:throw Error(D(329))}}}return vt(t,De()),t.callbackNode===n?$p.bind(null,t):null}function pu(t,e){var n=Kr;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=ft,ft=n,e!==null&&mu(e)),t}function mu(t){ft===null?ft=t:ft.push.apply(ft,t)}function Nv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Zt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Un(t,e){for(e&=~cc,e&=~va,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qt(e),s=1<<n;t[n]=-1,e&=~s}}function gd(t){if(re&6)throw Error(D(327));ar();var e=xo(t,0);if(!(e&1))return vt(t,De()),null;var n=Bo(t,e);if(t.tag!==0&&n===2){var s=zl(t);s!==0&&(e=s,n=pu(t,s))}if(n===1)throw n=_i,vs(t,0),Un(t,e),vt(t,De()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,ft,yn),vt(t,De()),null}function dc(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(gr=De()+500,pa&&ls())}}function Ns(t){Hn!==null&&Hn.tag===0&&!(re&6)&&ar();var e=re;re|=1;var n=Lt.transition,s=ce;try{if(Lt.transition=null,ce=1,t)return t()}finally{ce=s,Lt.transition=n,re=e,!(re&6)&&ls()}}function fc(){wt=Ks.current,ye(Ks)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sv(n)),Pe!==null)for(n=Pe.return;n!==null;){var s=n;switch(Gu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Oo();break;case 3:pr(),ye(gt),ye(et),nc();break;case 5:tc(s);break;case 4:pr();break;case 13:ye(xe);break;case 19:ye(xe);break;case 10:Zu(s.type._context);break;case 22:case 23:fc()}n=n.return}if(qe=t,Pe=t=es(t.current,null),Ge=wt=e,be=0,_i=null,cc=va=Es=0,ft=Kr=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}gs=null}return t}function Hp(t,e){do{var n=Pe;try{if(Yu(),ho.current=bo,Lo){for(var s=Ce.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lo=!1}if(Cs=0,Be=Le=Ce=null,Yr=!1,pi=0,uc.current=null,n===null||n.return===null){be=1,_i=e,Pe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=sd(o);if(g!==null){g.flags&=-257,rd(g,o,a,i,e),g.mode&1&&nd(i,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){nd(i,u,e),pc();break e}l=Error(D(426))}}else if(Te&&a.mode&1){var w=sd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rd(w,o,a,i,e),Qu(mr(l,a));break e}}i=l=mr(l,a),be!==4&&(be=2),Kr===null?Kr=[i]:Kr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=Op(i,l,e);Yh(i,f);break e;case 1:a=l;var m=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Kn===null||!Kn.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Mp(i,a,e);Yh(i,x);break e}}i=i.return}while(i!==null)}Xp(n)}catch(y){e=y,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Gp(){var t=jo.current;return jo.current=bo,t===null?bo:t}function pc(){(be===0||be===3||be===2)&&(be=4),qe===null||!(Es&268435455)&&!(va&268435455)||Un(qe,Ge)}function Bo(t,e){var n=re;re|=2;var s=Gp();(qe!==t||Ge!==e)&&(yn=null,vs(t,e));do try{Av();break}catch(r){Hp(t,r)}while(!0);if(Yu(),re=n,jo.current=s,Pe!==null)throw Error(D(261));return qe=null,Ge=0,be}function Av(){for(;Pe!==null;)Qp(Pe)}function Ov(){for(;Pe!==null&&!e_();)Qp(Pe)}function Qp(t){var e=Zp(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Xp(t):Pe=e,uc.current=null}function Xp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kv(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Pe=null;return}}else if(n=Sv(n,e,wt),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);be===0&&(be=5)}function ps(t,e,n){var s=ce,r=Lt.transition;try{Lt.transition=null,ce=1,Mv(t,e,n,s)}finally{Lt.transition=r,ce=s}return null}function Mv(t,e,n,s){do ar();while(Hn!==null);if(re&6)throw Error(D(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c_(t,i),t===qe&&(Pe=qe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,Kp(To,function(){return ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Lt.transition,Lt.transition=null;var o=ce;ce=1;var a=re;re|=4,uc.current=null,xv(t,n),qp(n,t),Y_(Hl),Co=!!$l,Hl=$l=null,t.current=n,Cv(n),t_(),re=a,ce=o,Lt.transition=i}else t.current=n;if(Ji&&(Ji=!1,Hn=t,Wo=r),i=t.pendingLanes,i===0&&(Kn=null),r_(n.stateNode),vt(t,De()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(zo)throw zo=!1,t=du,du=null,t;return Wo&1&&t.tag!==0&&ar(),i=t.pendingLanes,i&1?t===fu?Jr++:(Jr=0,fu=t):Jr=0,ls(),null}function ar(){if(Hn!==null){var t=Of(Wo),e=Lt.transition,n=ce;try{if(Lt.transition=null,ce=16>t?16:t,Hn===null)var s=!1;else{if(t=Hn,Hn=null,Wo=0,re&6)throw Error(D(331));var r=re;for(re|=4,z=t.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Zr(8,c,i)}var h=c.child;if(h!==null)h.return=c,z=h;else for(;z!==null;){c=z;var d=c.sibling,g=c.return;if(zp(c),c===u){z=null;break}if(d!==null){d.return=g,z=d;break}z=g}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,z=f;break e}z=i.return}}var m=t.current;for(z=m;z!==null;){o=z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,z=_;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_a(9,a)}}catch(y){Ae(a,a.return,y)}if(a===o){z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,z=x;break e}z=a.return}}if(re=r,ls(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(ua,t)}catch{}s=!0}return s}finally{ce=n,Lt.transition=e}}return!1}function _d(t,e,n){e=mr(n,e),e=Op(t,e,1),t=Zn(t,e,1),e=it(),t!==null&&(ki(t,1,e),vt(t,e))}function Ae(t,e,n){if(t.tag===3)_d(t,t,n);else for(;e!==null;){if(e.tag===3){_d(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){t=mr(n,t),t=Mp(e,t,1),e=Zn(e,t,1),t=it(),e!==null&&(ki(e,1,t),vt(e,t));break}}e=e.return}}function Dv(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ge&n)===n&&(be===4||be===3&&(Ge&130023424)===Ge&&500>De()-hc?vs(t,0):cc|=n),vt(t,e)}function Yp(t,e){e===0&&(t.mode&1?(e=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):e=1);var n=it();t=An(t,e),t!==null&&(ki(t,e,n),vt(t,n))}function Iv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yp(t,n)}function Rv(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(e),Yp(t,n)}var Zp;Zp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,wv(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Te&&e.flags&1048576&&tp(e,Io,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;po(t,e),t=e.pendingProps;var r=hr(e,et.current);or(e,n),r=rc(null,e,s,t,r,n);var i=ic();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(s)?(i=!0,Mo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ju(e),r.updater=ga,e.stateNode=r,r._reactInternals=e,tu(e,s,t,n),e=ru(null,e,s,!0,i,n)):(e.tag=0,Te&&i&&Hu(e),nt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(po(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Fv(s),t=qt(s,t),r){case 0:e=su(null,e,s,t,n);break e;case 1:e=ad(null,e,s,t,n);break e;case 11:e=id(null,e,s,t,n);break e;case 14:e=od(null,e,s,qt(s.type,t),n);break e}throw Error(D(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qt(s,r),su(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qt(s,r),ad(t,e,s,r,n);case 3:e:{if(Pp(e),t===null)throw Error(D(387));s=e.pendingProps,i=e.memoizedState,r=i.element,ap(t,e),Fo(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=mr(Error(D(423)),e),e=ld(t,e,s,n,r);break e}else if(s!==r){r=mr(Error(D(424)),e),e=ld(t,e,s,n,r);break e}else for(kt=Yn(e.stateNode.containerInfo.firstChild),Tt=e,Te=!0,$t=null,n=ip(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),s===r){e=On(t,e,n);break e}nt(t,e,s,n)}e=e.child}return e;case 5:return lp(e),t===null&&Kl(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Gl(s,r)?o=null:i!==null&&Gl(s,i)&&(e.flags|=32),Rp(t,e),nt(t,e,o,n),e.child;case 6:return t===null&&Kl(e),null;case 13:return Fp(t,e,n);case 4:return ec(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=fr(e,null,s,n):nt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qt(s,r),id(t,e,s,r,n);case 7:return nt(t,e,e.pendingProps,n),e.child;case 8:return nt(t,e,e.pendingProps.children,n),e.child;case 12:return nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,pe(Ro,s._currentValue),s._currentValue=o,i!==null)if(Zt(i.value,o)){if(i.children===r.children&&!gt.current){e=On(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=xn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jl(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,or(e,n),r=zt(r),s=s(r),e.flags|=1,nt(t,e,s,n),e.child;case 14:return s=e.type,r=qt(s,e.pendingProps),r=qt(s.type,r),od(t,e,s,r,n);case 15:return Dp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qt(s,r),po(t,e),e.tag=1,_t(s)?(t=!0,Mo(e)):t=!1,or(e,n),Ap(e,s,r),tu(e,s,r,n),ru(null,e,s,!0,t,n);case 19:return Vp(t,e,n);case 22:return Ip(t,e,n)}throw Error(D(156,e.tag))};function Kp(t,e){return Cf(t,e)}function Pv(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,s){return new Pv(t,e,n,s)}function mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fv(t){if(typeof t=="function")return mc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pu)return 11;if(t===Fu)return 14}return 2}function es(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")mc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return ys(n.children,r,i,e);case Ru:o=8,r|=8;break;case Cl:return t=Pt(12,n,e,r|2),t.elementType=Cl,t.lanes=i,t;case El:return t=Pt(13,n,e,r),t.elementType=El,t.lanes=i,t;case Nl:return t=Pt(19,n,e,r),t.elementType=Nl,t.lanes=i,t;case lf:return ya(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case of:o=10;break e;case af:o=9;break e;case Pu:o=11;break e;case Fu:o=14;break e;case zn:o=16,s=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function ys(t,e,n,s){return t=Pt(7,t,s,e),t.lanes=n,t}function ya(t,e,n,s){return t=Pt(22,t,s,e),t.elementType=lf,t.lanes=n,t.stateNode={isHidden:!1},t}function yl(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function wl(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vv(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function gc(t,e,n,s,r,i,o,a,l){return t=new Vv(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(i),t}function Lv(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Jp(t){if(!t)return ss;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(_t(n))return Jf(t,n,e)}return e}function em(t,e,n,s,r,i,o,a,l){return t=gc(n,s,!0,t,r,i,o,a,l),t.context=Jp(null),n=t.current,s=it(),r=Jn(n),i=xn(s,r),i.callback=e??null,Zn(n,i,r),t.current.lanes=r,ki(t,r,s),vt(t,s),t}function wa(t,e,n,s){var r=e.current,i=it(),o=Jn(r);return n=Jp(n),e.context===null?e.context=n:e.pendingContext=n,e=xn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Zn(r,e,o),t!==null&&(Xt(t,r,o,i),co(t,r,o)),o}function qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _c(t,e){vd(t,e),(t=t.alternate)&&vd(t,e)}function bv(){return null}var tm=typeof reportError=="function"?reportError:function(t){console.error(t)};function vc(t){this._internalRoot=t}Sa.prototype.render=vc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));wa(t,e,null,null)};Sa.prototype.unmount=vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){wa(null,t,null,null)}),e[Nn]=null}};function Sa(t){this._internalRoot=t}Sa.prototype.unstable_scheduleHydration=function(t){if(t){var e=If();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&Pf(t)}};function yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yd(){}function jv(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=qo(o);i.call(u)}}var o=em(e,s,t,0,null,!1,!1,"",yd);return t._reactRootContainer=o,t[Nn]=o.current,ui(t.nodeType===8?t.parentNode:t),Ns(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=qo(l);a.call(u)}}var l=gc(t,0,!1,null,null,!1,!1,"",yd);return t._reactRootContainer=l,t[Nn]=l.current,ui(t.nodeType===8?t.parentNode:t),Ns(function(){wa(e,l,n,s)}),l}function Ta(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=qo(o);a.call(l)}}wa(e,o,t,r)}else o=jv(n,e,t,r,s);return qo(o)}Mf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qr(e.pendingLanes);n!==0&&(bu(e,n|1),vt(e,De()),!(re&6)&&(gr=De()+500,ls()))}break;case 13:Ns(function(){var s=An(t,1);if(s!==null){var r=it();Xt(s,t,1,r)}}),_c(t,1)}};ju=function(t){if(t.tag===13){var e=An(t,134217728);if(e!==null){var n=it();Xt(e,t,134217728,n)}_c(t,134217728)}};Df=function(t){if(t.tag===13){var e=Jn(t),n=An(t,e);if(n!==null){var s=it();Xt(n,t,e,s)}_c(t,e)}};If=function(){return ce};Rf=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Ll=function(t,e,n){switch(e){case"input":if(Ml(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=fa(s);if(!r)throw Error(D(90));cf(s),Ml(s,r)}}}break;case"textarea":df(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};yf=dc;wf=Ns;var zv={usingClientEntryPoint:!1,Events:[xi,Hs,fa,_f,vf,dc]},zr={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wv={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tf(t),t===null?null:t.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||bv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{ua=eo.inject(Wv),cn=eo}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(e))throw Error(D(200));return Lv(t,e,null,n)};Et.createRoot=function(t,e){if(!yc(t))throw Error(D(299));var n=!1,s="",r=tm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=gc(t,1,!1,null,null,n,!1,s,r),t[Nn]=e.current,ui(t.nodeType===8?t.parentNode:t),new vc(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Tf(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return Ns(t)};Et.hydrate=function(t,e,n){if(!ka(e))throw Error(D(200));return Ta(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!yc(t))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=tm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=em(e,null,t,1,n??null,r,!1,i,o),t[Nn]=e.current,ui(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Sa(e)};Et.render=function(t,e,n){if(!ka(e))throw Error(D(200));return Ta(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!ka(t))throw Error(D(40));return t._reactRootContainer?(Ns(function(){Ta(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Et.unstable_batchedUpdates=dc;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ka(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Ta(t,e,n,!1,s)};Et.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(t){console.error(t)}}nm(),tf.exports=Et;var Bv=tf.exports,wd=Bv;Tl.createRoot=wd.createRoot,Tl.hydrateRoot=wd.hydrateRoot;const sm="15.0.4",Sd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),kd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),gu=(t,e)=>({startTime:e,type:"setValue",value:t}),rm=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),im=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),Js=t=>t.type==="exponentialRampToValue",Uo=t=>t.type==="linearRampToValue",Bn=t=>Js(t)||Uo(t),wc=t=>t.type==="setValue",wn=t=>t.type==="setValueCurve",$o=(t,e,n,s)=>{const r=t[e];return r===void 0?s:Bn(r)||wc(r)?r.value:wn(r)?r.values[r.values.length-1]:im(n,$o(t,e-1,r.startTime,s),r)},Td=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:Bn(n)?[n.endTime,n.value]:wc(n)?[n.startTime,n.value]:wn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,$o(t,e-1,n.startTime,r)],_u=t=>t.type==="cancelAndHold",vu=t=>t.type==="cancelScheduledValues",jn=t=>_u(t)||vu(t)?t.cancelTime:Js(t)||Uo(t)?t.endTime:t.startTime,xd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,Cd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),qv=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Uv=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return qv(s,r)},to=t=>t.type==="setTarget";class $v{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=jn(e);if(_u(e)||vu(e)){const s=this._automationEvents.findIndex(i=>vu(e)&&wn(i)?i.startTime+i.duration>=n:jn(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),_u(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Bn(r)){if(i!==void 0&&to(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:wn(i)?i.startTime+i.duration:jn(i),a=i===void 0?this._defaultValue:wn(i)?i.values[i.values.length-1]:i.value,l=Js(r)?xd(n,o,a,r):Cd(n,o,a,r),u=Js(r)?Sd(l,n,this._currenTime):kd(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&to(i)&&this._automationEvents.push(gu(this.getValue(n),n)),i!==void 0&&wn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=rm(c,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>jn(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&wn(r)&&jn(r)+r.duration>n)return!1;const i=Js(e)?Sd(e.value,e.endTime,this._currenTime):Uo(e)?kd(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(wn(e)&&n+e.duration>jn(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>jn(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];to(r)&&s.unshift(gu($o(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>jn(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&to(i)&&(s===void 0||!Bn(s)||s.insertTime>e))return im(e,$o(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&wc(i)&&(s===void 0||!Bn(s)))return i.value;if(i!==void 0&&wn(i)&&(s===void 0||!Bn(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Uv(e,i):i.values[i.values.length-1];if(i!==void 0&&Bn(i)&&(s===void 0||!Bn(s)))return i.value;if(s!==void 0&&Js(s)){const[o,a]=Td(this._automationEvents,r,i,s,this._defaultValue);return xd(e,o,a,s)}if(s!==void 0&&Uo(s)){const[o,a]=Td(this._automationEvents,r,i,s,this._defaultValue);return Cd(e,o,a,s)}return this._defaultValue}}const Hv=t=>({cancelTime:t,type:"cancelAndHold"}),Gv=t=>({cancelTime:t,type:"cancelScheduledValues"}),Qv=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Xv=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Yv=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Zv=()=>new DOMException("","AbortError"),Kv=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},Jv=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},ey=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},_r=new WeakSet,om=new WeakMap,Sc=new WeakMap,am=new WeakMap,kc=new WeakMap,xa=new WeakMap,lm=new WeakMap,yu=new WeakMap,wu=new WeakMap,Su=new WeakMap,um={construct(){return um}},ty=t=>{try{const e=new Proxy(t,um);new e}catch{return!1}return!0},Ed=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Nd=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(Ed);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Ed)}return[n.join(";"),s]},Ad=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Od=t=>{if(!ty(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},ny=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let g=0;return(p,v,w={credentials:"omit"})=>{const f=c.get(p);if(f!==void 0&&f.has(v))return Promise.resolve();const m=u.get(p);if(m!==void 0){const y=m.get(v);if(y!==void 0)return y}const _=i(p),x=_.audioWorklet===void 0?r(v).then(([y,k])=>{const[T,S]=Nd(y,k),E=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${S}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const y=d._AWGS.pop();if(y===void 0)throw new SyntaxError;s(_.currentTime,_.sampleRate,()=>y(class{},void 0,(k,T)=>{if(k.trim()==="")throw e();const S=wu.get(_);if(S!==void 0){if(S.has(k))throw e();Od(T),Ad(T.parameterDescriptors),S.set(k,T)}else Od(T),Ad(T.parameterDescriptors),wu.set(_,new Map([[k,T]]))},_.sampleRate,void 0,void 0))}):Promise.all([r(v),Promise.resolve(t(h,h))]).then(([[y,k],T])=>{const S=g+1;g=S;const[E,C]=Nd(y,k),V=`${E};((AudioWorkletProcessor,registerProcessor)=>{${C}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${S}',class extends AudioWorkletProcessor{process(){return !1}})`,U=new Blob([V],{type:"application/javascript; charset=utf-8"}),j=URL.createObjectURL(U);return _.audioWorklet.addModule(j,w).then(()=>{if(a(_))return _;const W=o(_);return W.audioWorklet.addModule(j,w).then(()=>W)}).then(W=>{if(l===null)throw new SyntaxError;try{new l(W,`__sac${S}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(j))});return m===void 0?u.set(p,new Map([[v,x]])):m.set(v,x),x.then(()=>{const y=c.get(p);y===void 0?c.set(p,new Set([v])):y.add(v)}).finally(()=>{const y=u.get(p);y!==void 0&&y.delete(v)}),x}},Kt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ca=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},cm=(t,e,n,s)=>{const r=Kt(t,e),i=Ca(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Ei=t=>Kt(lm,t),vr=t=>{if(_r.has(t))throw new Error("The AudioNode is already stored.");_r.add(t),Ei(t).forEach(e=>e(!0))},hm=t=>"port"in t,Ni=t=>{if(!_r.has(t))throw new Error("The AudioNode is not stored.");_r.delete(t),Ei(t).forEach(e=>e(!1))},ku=(t,e)=>{!hm(t)&&e.every(n=>n.size===0)&&Ni(t)},sy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const g=new WeakMap;return(p,v,w,f,m)=>{const{activeInputs:_,passiveInputs:x}=i(v),{outputs:y}=i(p),k=a(p),T=S=>{const E=l(v),C=l(p);if(S){const N=cm(x,p,w,f);t(_,p,N,!1),!m&&!h(p)&&n(C,E,w,f),d(v)&&vr(v)}else{const N=s(_,p,w,f);e(x,f,N,!1),!m&&!h(p)&&r(C,E,w,f);const A=o(v);if(A===0)c(v)&&ku(v,_);else{const F=g.get(v);F!==void 0&&clearTimeout(F),g.set(v,setTimeout(()=>{c(v)&&ku(v,_)},A*1e3))}}};return u(y,[v,w,f],S=>S[0]===v&&S[1]===w&&S[2]===f,!0)?(k.add(T),c(p)?t(_,p,[w,f,T],!0):e(x,f,[p,w,T],!0),!0):!1}},ry=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},iy=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},oy=t=>(e,n)=>{t(e).add(n)},ay={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ly=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...ay,...l},h=s(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},tt=(t,e)=>t.context===e,uy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!tt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Ho=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},mn=()=>new DOMException("","IndexSizeError"),Tc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?mn():s}})(t.getChannelData)},cy={numberOfChannels:1},hy=(t,e,n,s,r,i,o,a)=>{let l=null;return class dm{constructor(c){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:g}={...cy,...c};l===null&&(l=new r(1,1,44100));const p=s!==null&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:g}):l.createBuffer(d,h,g);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(o(p),Tc(p)):e(Ho,()=>Ho(p))||a(p),t.add(p),p}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===dm.prototype||t.has(c)}}},pt=-34028234663852886e22,st=-pt,Cn=t=>_r.has(t),dy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},fy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...dy,...c},g=r(h,d),p=o(h),v=p?e():null;super(u,!1,g,v),this._audioBufferSourceNodeRenderer=v,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=n(this,p,g.playbackRate,st,pt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){vr(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Cn(this)&&Ni(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},py=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=tt(h,c);if(!d){const g={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,g),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await s(c,u.playbackRate,h.playbackRate),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},my=t=>"playbackRate"in t,gy=t=>"frequency"in t&&"gain"in t,_y=t=>"offset"in t,vy=t=>!("frequency"in t)&&"gain"in t,yy=t=>"detune"in t&&"frequency"in t,wy=t=>"pan"in t,rt=t=>Kt(om,t),Ai=t=>Kt(am,t),Tu=(t,e)=>{const{activeInputs:n}=rt(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Tu(i,[...e,t])}));const s=my(t)?[t.playbackRate]:hm(t)?Array.from(t.parameters.values()):gy(t)?[t.Q,t.detune,t.frequency,t.gain]:_y(t)?[t.offset]:vy(t)?[t.gain]:yy(t)?[t.detune,t.frequency]:wy(t)?[t.pan]:[];for(const r of s){const i=Ai(r);i!==void 0&&i.activeInputs.forEach(([o])=>Tu(o,e))}Cn(t)&&Ni(t)},fm=t=>{Tu(t.destination,[])},Sy=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),ky=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(h===null)throw s();if(!Sy(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:g}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/g:d==="interactive"||d===void 0?256/g:d==="playback"?1024/g:Math.max(2,Math.min(128,Math.round(d*g/128)))*128/g,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),fm(this)}))}createMediaElementSource(c){return new r(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},Ty=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),g=r(h,c,d),p=d?e(a):null;super(u,!1,g,p),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},xy=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},Cy=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const y=new Float32Array(1),k=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=o(u);let S=!1,E=[0,0,-1,0,1,0],C=[0,0,0];const N=()=>{if(S)return;S=!0;const U=s(u,256,9,0);U.onaudioprocess=({inputBuffer:j})=>{const W=[i(j,y,0),i(j,y,1),i(j,y,2),i(j,y,3),i(j,y,4),i(j,y,5)];W.some((M,I)=>M!==E[I])&&(c.setOrientation(...W),E=W);const O=[i(j,y,6),i(j,y,7),i(j,y,8)];O.some((M,I)=>M!==C[I])&&(c.setPosition(...O),C=O)},k.connect(U)},A=U=>j=>{j!==E[U]&&(E[U]=j,c.setOrientation(...E))},F=U=>j=>{j!==C[U]&&(C[U]=j,c.setPosition(...C))},V=(U,j,W)=>{const O=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j});O.connect(k,0,U),O.start(),Object.defineProperty(O.offset,"defaultValue",{get(){return j}});const M=t({context:l},T,O.offset,st,pt);return a(M,"value",I=>()=>I.call(M),I=>L=>{try{I.call(M,L)}catch(G){if(G.code!==9)throw G}N(),T&&W(L)}),M.cancelAndHoldAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.cancelAndHoldAtTime),M.cancelScheduledValues=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.cancelScheduledValues),M.exponentialRampToValueAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.exponentialRampToValueAtTime),M.linearRampToValueAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.linearRampToValueAtTime),M.setTargetAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.setTargetAtTime),M.setValueAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.setValueAtTime),M.setValueCurveAtTime=(I=>T?()=>{throw r()}:(...L)=>{const G=I.apply(M,L);return N(),G})(M.setValueCurveAtTime),M};return{forwardX:V(0,0,A(0)),forwardY:V(1,0,A(1)),forwardZ:V(2,-1,A(2)),positionX:V(6,0,F(0)),positionY:V(7,0,F(1)),positionZ:V(8,0,F(2)),upX:V(3,0,A(3)),upY:V(4,1,A(4)),upZ:V(5,0,A(5))}},{forwardX:d,forwardY:g,forwardZ:p,positionX:v,positionY:w,positionZ:f,upX:m,upY:_,upZ:x}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return g},get forwardZ(){return p},get positionX(){return v},get positionY(){return w},get positionZ(){return f},get upX(){return m},get upY(){return _},get upZ(){return x}}},Go=t=>"context"in t,Oi=t=>Go(t[0]),Ps=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Md=(t,e,[n,s],r)=>{Ps(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},Dd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Ps(i,[n,s],o=>o[0]===n,r)},Er=t=>"inputs"in t,Qo=(t,e,n,s)=>{if(Er(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},pm=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},Ey=(t,e,n)=>Ca(t,s=>s[0]===e&&s[1]===n),mm=(t,e)=>{if(!Ei(t).delete(e))throw new Error("Missing the expected event listener.")},gm=(t,e,n)=>{const s=Kt(t,e),r=Ca(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},Xo=(t,e,n,s)=>{Er(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},we=t=>Kt(Sc,t),vi=t=>Kt(kc,t),As=t=>yu.has(t),vo=t=>!_r.has(t),Id=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Sl=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},Yo=t=>"context"in t,Ny=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=Yo(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{Yo(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},Ay=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ai(e),{outputs:o}=rt(t),a=Ei(t),l=u=>{const c=we(t),h=vi(e);if(u){const d=gm(i,t,n);Md(r,t,d,!1),!s&&!As(t)&&c.connect(h,n)}else{const d=Ey(r,t,n);Dd(i,d,!1),!s&&!As(t)&&c.disconnect(h,n)}};return Ps(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),Cn(t)?Md(r,t,[n,l],!0):Dd(i,[t,n,l],!0),!0):!1},Oy=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=rt(e),o=pm(r[s],t,n);return o===null?[cm(i,t,n,s)[2],!1]:[o[2],!0]},My=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Ai(e),i=pm(s,t,n);return i===null?[gm(r,t,n)[1],!1]:[i[2],!0]},xc=(t,e,n,s,r)=>{const[i,o]=Oy(t,n,s,r);if(i!==null&&(mm(t,i),o&&!e&&!As(t)&&Xo(we(t),we(n),s,r)),Cn(n)){const{activeInputs:a}=rt(n);ku(n,a)}},Cc=(t,e,n,s)=>{const[r,i]=My(t,n,s);r!==null&&(mm(t,r),i&&!e&&!As(t)&&we(t).disconnect(vi(n),s))},Dy=(t,e)=>{const n=rt(t),s=[];for(const r of n.outputs)Oi(r)?xc(t,e,...r):Cc(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},Iy=(t,e,n)=>{const s=rt(t),r=[];for(const i of s.outputs)i[1]===n&&(Oi(i)?xc(t,e,...i):Cc(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},Ry=(t,e,n,s,r)=>{const i=rt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Oi(o)?xc(t,e,...o):Cc(t,e,...o),i.outputs.delete(o),o[0]))},Py=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,v)=>class extends u{constructor(f,m,_,x){super(_),this._context=f,this._nativeAudioNode=_;const y=c(f);h(y)&&n(Id,()=>Id(y,v))!==!0&&Ny(_),Sc.set(this,_),lm.set(this,new Set),f.state!=="closed"&&m&&vr(this),t(this,x,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,m=0,_=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw r();const x=c(this._context),y=p(x);if(d(f)||g(f))throw i();if(Go(f)){const S=we(f);try{const C=Qo(this._nativeAudioNode,S,m,_),N=vo(this);(y||N)&&this._nativeAudioNode.disconnect(...C),this.context.state!=="closed"&&!N&&vo(f)&&vr(f)}catch(C){throw C.code===12?i():C}if(e(this,f,m,_,y)){const C=l([this],f);Sl(C,s(y))}return f}const k=vi(f);if(k.name==="playbackRate"&&k.maxValue===1024)throw o();try{this._nativeAudioNode.connect(k,m),(y||vo(this))&&this._nativeAudioNode.disconnect(k,m)}catch(S){throw S.code===12?i():S}if(Ay(this,f,m,y)){const S=l([this],f);Sl(S,s(y))}}disconnect(f,m,_){let x;const y=c(this._context),k=p(y);if(f===void 0)x=Dy(this,k);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();x=Iy(this,k,f)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||Go(f)&&_!==void 0&&(_<0||_>=f.numberOfInputs))throw r();if(x=Ry(this,k,f,m,_),x.length===0)throw i()}for(const T of x){const S=l([this],T);Sl(S,a)}}},Fy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,p,v,w=null,f=null)=>{const m=v.value,_=new $v(m),x=p?s(_):null,y={get defaultValue(){return m},get maxValue(){return w===null?v.maxValue:w},get minValue(){return f===null?v.minValue:f},get value(){return v.value},set value(k){v.value=k,y.setValueAtTime(k,g.context.currentTime)},cancelAndHoldAtTime(k){if(typeof v.cancelAndHoldAtTime=="function")x===null&&_.flush(g.context.currentTime),_.add(r(k)),v.cancelAndHoldAtTime(k);else{const T=Array.from(_).pop();x===null&&_.flush(g.context.currentTime),_.add(r(k));const S=Array.from(_).pop();v.cancelScheduledValues(k),T!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?v.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?v.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?v.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&v.setValueCurveAtTime(S.values,S.startTime,S.duration))}return y},cancelScheduledValues(k){return x===null&&_.flush(g.context.currentTime),_.add(i(k)),v.cancelScheduledValues(k),y},exponentialRampToValueAtTime(k,T){if(k===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;const S=g.context.currentTime;return x===null&&_.flush(S),Array.from(_).length===0&&(_.add(u(m,S)),v.setValueAtTime(m,S)),_.add(o(k,T)),v.exponentialRampToValueAtTime(k,T),y},linearRampToValueAtTime(k,T){const S=g.context.currentTime;return x===null&&_.flush(S),Array.from(_).length===0&&(_.add(u(m,S)),v.setValueAtTime(m,S)),_.add(a(k,T)),v.linearRampToValueAtTime(k,T),y},setTargetAtTime(k,T,S){return x===null&&_.flush(g.context.currentTime),_.add(l(k,T,S)),v.setTargetAtTime(k,T,S),y},setValueAtTime(k,T){return x===null&&_.flush(g.context.currentTime),_.add(u(k,T)),v.setValueAtTime(k,T),y},setValueCurveAtTime(k,T,S){const E=k instanceof Float32Array?k:new Float32Array(k);if(h!==null&&h.name==="webkitAudioContext"){const C=T+S,N=g.context.sampleRate,A=Math.ceil(T*N),F=Math.floor(C*N),V=F-A,U=new Float32Array(V);for(let W=0;W<V;W+=1){const O=(E.length-1)/S*((A+W)/N-T),M=Math.floor(O),I=Math.ceil(O);U[W]=M===I?E[M]:(1-(O-M))*E[M]+(1-(I-O))*E[I]}x===null&&_.flush(g.context.currentTime),_.add(c(U,T,S)),v.setValueCurveAtTime(U,T,S);const j=F/N;j<C&&d(y,U[U.length-1],j),d(y,E[E.length-1],C)}else x===null&&_.flush(g.context.currentTime),_.add(c(E,T,S)),v.setValueCurveAtTime(E,T,S);return y}};return n.set(y,v),e.set(y,g),t(y,x),y},Vy=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class _m{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ly={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},by=(t,e,n,s,r,i,o,a,l,u,c,h,d,g)=>class extends e{constructor(v,w,f){var m;const _=a(v),x=l(_),y=c({...Ly,...f});d(y);const k=wu.get(_),T=k==null?void 0:k.get(w),S=x||_.state!=="closed"?_:(m=o(_))!==null&&m!==void 0?m:_,E=r(S,x?null:v.baseLatency,u,w,T,y),C=x?s(w,y,T):null;super(v,!0,E,C);const N=[];E.parameters.forEach((F,V)=>{const U=n(this,x,F);N.push([V,U])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new _m(N),x&&t(_,this);const{activeInputs:A}=i(this);h(E,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(v){const w=typeof v=="function"?g(this,v):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?v:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Zo(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const vm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},Ko=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},jy=(t,e)=>{const n=Kt(Su,t),s=we(e);return Kt(n,s)},zy=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=rt(t),d=await jy(n,t),g=Ko(s.numberOfInputs,s.channelCount),p=Ko(s.numberOfOutputs,r),v=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<s.channelCount;m+=1)Zo(e,g[f],m,m,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},m)=>{Zo(e,v,f,l+m,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let m=0;m<r[f];m+=1)p[f][m].byteLength===0&&(p[f][m]=new Float32Array(128));try{const f=g.map((_,x)=>h.activeInputs[x].size===0?[]:_),m=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,p,v));if(c!==null)for(let _=0,x=0;_<s.numberOfOutputs;_+=1){for(let y=0;y<r[_];y+=1)vm(c,p[_],y,x+y,w);x+=r[_]}if(!m)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Wy=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,v)=>(w,f,m)=>{const _=new WeakMap;let x=null;const y=async(k,T)=>{let S=c(k),E=null;const C=tt(S,T),N=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const A=N.reduce((j,W)=>j+W,0),F=r(T,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),V=[];for(let j=0;j<k.numberOfOutputs;j+=1)V.push(s(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[j]}));const U=o(T,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});U.connect=e.bind(null,V),U.disconnect=l.bind(null,V),E=[F,V,U]}else C||(S=new h(T,w));if(_.set(T,E===null?S:E[2]),E!==null){if(x===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const W=k.channelCount*k.numberOfInputs,O=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,M=W+O;x=zy(k,M===0?null:await(async()=>{const L=new d(M,Math.ceil(k.context.length/128)*128,T.sampleRate),G=[],ne=[];for(let K=0;K<f.numberOfInputs;K+=1)G.push(o(L,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),ne.push(r(L,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const oe=await Promise.all(Array.from(k.parameters.values()).map(async K=>{const Ne=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K.value});return await g(L,K,Ne.offset),Ne})),Q=s(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,W+O)});for(let K=0;K<f.numberOfInputs;K+=1){G[K].connect(ne[K]);for(let Ne=0;Ne<f.channelCount;Ne+=1)ne[K].connect(Q,Ne,K*f.channelCount+Ne)}for(const[K,Ne]of oe.entries())Ne.connect(Q,0,W+K),Ne.start(0);return Q.connect(L.destination),await Promise.all(G.map(K=>p(k,L,K))),v(L)})(),T,f,N,m,u)}const A=await x,F=n(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,U,j]=E;A!==null&&(F.buffer=A,F.start(0)),F.connect(V);for(let W=0,O=0;W<k.numberOfOutputs;W+=1){const M=U[W];for(let I=0;I<N[W];I+=1)V.connect(M,O+I,I);O+=N[W]}return j}if(C)for(const[A,F]of k.parameters.entries())await t(T,F,S.parameters.get(A));else for(const[A,F]of k.parameters.entries())await g(T,F,S.parameters.get(A));return await p(k,T,S),S};return{render(k,T){a(T,k);const S=_.get(T);return S!==void 0?Promise.resolve(S):y(k,T)}}},By=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,p,v,w,f,m,_)=>class extends p{constructor(y,k){super(y,k),this._nativeContext=y,this._audioWorklet=t===void 0?void 0:{addModule:(T,S)=>t(this,T,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(y,k,T){return new n({length:k,numberOfChannels:y,sampleRate:T})}createBufferSource(){return new s(this)}createChannelMerger(y=6){return new i(this,{numberOfInputs:y})}createChannelSplitter(y=6){return new o(this,{numberOfOutputs:y})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(y=1){return new c(this,{maxDelayTime:y})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(y,k){return new g(this,{feedback:k,feedforward:y})}createOscillator(){return new v(this)}createPanner(){return new w(this)}createPeriodicWave(y,k,T={disableNormalization:!1}){return new f(this,{...T,imag:k,real:y})}createStereoPanner(){return new m(this)}createWaveShaper(){return new _(this)}decodeAudioData(y,k,T){return u(this._nativeContext,y).then(S=>(typeof k=="function"&&k(S),S),S=>{throw typeof T=="function"&&T(S),S})}},qy={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Uy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...qy,...c},g=r(h,d),p=o(h),v=p?n():null;super(u,!1,g,v),this._Q=e(this,p,g.Q,st,pt),this._detune=e(this,p,g.detune,1200*Math.log2(st),-1200*Math.log2(st)),this._frequency=e(this,p,g.frequency,u.sampleRate/2,0),this._gain=e(this,p,g.gain,40*Math.log10(st),pt),this._nativeBiquadFilterNode=g,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?s():d}if(u.length!==c.length||c.length!==h.length)throw s()}},$y=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=tt(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await s(l,a.Q,u.Q),await s(l,a.detune,u.detune),await s(l,a.frequency,u.frequency),await s(l,a.gain,u.gain)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Hy=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Gy={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Qy=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),u={...Gy,...a},c=n(l,u),h=r(l)?e():null;super(o,!1,c,h)}},Xy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!tt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Yy={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Zy=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=i({...Yy,...l}),h=n(u,c),d=r(u)?e():null;super(a,!1,h,d)}},Ky=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!tt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Jy=t=>(e,n,s)=>t(n,e,s),e0=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return Yo(n)?i.connect(n,0,r):i.connect(n,0)},t0=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},n0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},s0=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...n0,...u},d=s(c,h),g=i(c),p=g?n():null;super(l,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,g,d.offset,st,pt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){vr(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Cn(this)&&Ni(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},r0=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=tt(h,c);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,g),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await s(c,u.offset,h.offset),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},i0=t=>e=>(t[0]=e,t[0]),o0={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},a0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c={...o0,...l},h=n(u,c),g=r(u)?e():null;super(a,!1,h,g),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},l0=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!tt(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},u0=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},c0=()=>new DOMException("","DataCloneError"),Rd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},h0=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=o(h)?h:i(h);if(r.has(d)){const p=n();return Promise.reject(p)}try{r.add(d)}catch{}return e(l,()=>l(g))?g.decodeAudioData(d).then(p=>(Rd(d).catch(()=>{}),e(a,()=>a(p))||c(p),t.add(p),p)):new Promise((p,v)=>{const w=async()=>{try{await Rd(d)}catch{}},f=m=>{v(m),w()};try{g.decodeAudioData(d,m=>{typeof m.copyFromChannel!="function"&&(u(m),Tc(m)),t.add(m),w().then(()=>p(m))},m=>{f(m===null?s():m)})}catch(m){f(m)}})},d0=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const g=s(l),{outputs:p}=n(l);for(const v of p)if(Oi(v)){const w=s(v[0]);t(g,w,v[1],v[2])}else{const w=r(v[0]);g.connect(w,v[1])}}}else e.set(l,c-u)},f0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},p0=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...f0,...u},d=s(c,h),g=i(c),p=g?n(h.maxDelayTime):null;super(l,!1,d,p),this._delayTime=e(this,g,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},m0=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=tt(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await s(u,l.delayTime,c.delayTime),await r(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},g0=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),_0=t=>(e,n)=>{t(e).delete(n)},v0=t=>"delayTime"in t,y0=(t,e,n)=>function s(r,i){const o=Go(i)?i:n(t,i);if(v0(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,u)=>l.concat(u),[])},no=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},w0=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?no(t,e,n).disconnect():Yo(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?no(t,e,s).disconnect(n,0):no(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):no(t,e,s).disconnect(n,0),S0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},k0=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...S0,...c},g=s(h,d),p=o(h),v=p?n():null;super(u,!1,g,v),this._attack=e(this,p,g.attack),this._knee=e(this,p,g.knee),this._nativeDynamicsCompressorNode=g,this._ratio=e(this,p,g.ratio),this._release=e(this,p,g.release),this._threshold=e(this,p,g.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},T0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=tt(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await s(l,a.attack,u.attack),await s(l,a.knee,u.knee),await s(l,a.ratio,u.ratio),await s(l,a.release,u.release),await s(l,a.threshold,u.threshold)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},x0=()=>new DOMException("","EncodingError"),C0=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,g,p)=>{if(h===a||h===t.location.href&&d===1&&g===1)return u(),s(p),!1;if(l!==null)return l(c,h,d,g,p)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}),E0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},N0=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},A0=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},O0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},M0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...O0,...l},h=s(u,c),d=i(u),g=d?n():null;super(a,!1,h,g),this._gain=e(this,d,h.gain,st,pt)}get gain(){return this._gain}},D0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=tt(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await s(l,a.gain,u.gain),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},I0=(t,e)=>n=>e(t,n),R0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},P0=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},F0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},V0=t=>e=>t.get(e),Ue=()=>new DOMException("","InvalidStateError"),L0=t=>e=>{const n=t.get(e);if(n===void 0)throw Ue();return n},b0=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},j0=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Ea=()=>new DOMException("","InvalidAccessError"),z0=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Ea();return e.call(t,n,s,r)})(t.getFrequencyResponse)},W0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},B0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=r(u),h={...W0,...l},d=e(u,c?null:a.baseLatency,h),g=c?n(h.feedback,h.feedforward):null;super(a,!1,d,g),z0(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},ym=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let g=0;g<h;g+=1){let p=n[0]*u[g];for(let v=1;v<r;v+=1){const w=d-v&l-1;p+=n[v]*i[w],p-=t[v]*o[w]}for(let v=r;v<s;v+=1)p+=n[v]*i[d-v&l-1];for(let v=r;v<e;v+=1)p-=t[v]*o[d-v&l-1];i[d]=u[g],o[d]=p,d=d+1&l-1,c[g]=p}return d},q0=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),g=t.numberOfChannels;for(let p=0;p<g;p+=1){const v=t.getChannelData(p),w=d.getChannelData(p);c.fill(0),h.fill(0),ym(r,o,i,a,l,c,h,0,u,v,w)}return d},U0=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,g=e(c);const p=tt(g,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(g=h.createIIRFilter(o,i)),a.set(h,d===null?g:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await s(c,w,w.destination);const f=await r(w);return q0(f,h,i,o)})()}const v=await l;return d.buffer=v,d.start(0),d}return await s(c,h,g),g};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},$0=(t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=s(a),{outputs:h}=n(a);for(const d of h)if(Oi(d)){const g=s(d[0]);e(c,g,d[1],d[2])}else{const g=r(d[0]);c.disconnect(g,d[1])}}t.set(a,l)}else t.set(a,u+l)},H0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},G0=(t,e)=>n=>t.has(n)||e(n),Q0=(t,e)=>n=>t.has(n)||e(n),X0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Y0=t=>e=>t!==null&&e instanceof t,Z0=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,K0=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,J0=(t,e)=>n=>t(n)||e(n),e1=t=>e=>t!==null&&e instanceof t,t1=t=>t!==null&&t.isSecureContext,n1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},s1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},r1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...s1,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},i1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},o1=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},a1=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,xa.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},yi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},l1=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&s()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&r()})(n.disconnect),n},ke=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},je=(t,e)=>{ke(t,e,"channelCount"),ke(t,e,"channelCountMode"),ke(t,e,"channelInterpretation")},Pd=t=>typeof t.getFloatTimeDomainData=="function",u1=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},c1=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(je(r,s),!(s.maxDecibels>s.minDecibels))throw e();return ke(r,s,"fftSize"),ke(r,s,"maxDecibels"),ke(r,s,"minDecibels"),ke(r,s,"smoothingTimeConstant"),t(Pd,()=>Pd(r))||u1(r),r},h1=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Oe=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},d1=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Ue();e.call(t,s,r,i),n=!0}})(t.start)},Ec=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Nc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},f1=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=h.createBufferSource();return je(g,d),Oe(g,d,"playbackRate"),ke(g,d,"buffer"),ke(g,d,"loop"),ke(g,d,"loopEnd"),ke(g,d,"loopStart"),e(n,()=>n(h))||d1(g),e(s,()=>s(h))||l(g),e(r,()=>r(h))||u(g,h),e(i,()=>i(h))||Ec(g),e(o,()=>o(h))||c(g,h),e(a,()=>a(h))||Nc(g),t(h,g),g},p1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,m1=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},g1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,_1=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},v1=(t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let g=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>g,set:p=>{typeof g=="function"&&h.removeEventListener("processorerror",g),g=typeof p=="function"?p:null,typeof g=="function"&&h.addEventListener("processorerror",g)}}}),h.addEventListener=(p=>(...v)=>{if(v[0]==="processorerror"){const w=typeof v[1]=="function"?v[1]:typeof v[1]=="object"&&v[1]!==null&&typeof v[1].handleEvent=="function"?v[1].handleEvent:null;if(w!==null){const f=d.get(v[1]);f!==void 0?v[1]=f:(v[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),w(m)):w(new ErrorEvent(v[0],{...m}))},d.set(w,v[1]))}}return p.call(h,"error",v[1],v[2]),p.call(h,...v)})(h.addEventListener),h.removeEventListener=(p=>(...v)=>{if(v[0]==="processorerror"){const w=d.get(v[1]);w!==void 0&&(d.delete(v[1]),v[1]=w)}return p.call(h,"error",v[1],v[2]),p.call(h,v[0],v[1],v[2])})(h.removeEventListener),c.numberOfOutputs!==0){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),r(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return _1(c),e(i,o,u,c)},wm=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),y1=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),w1=async(t,e)=>{const n=await y1(e);return new t(n)},S1=(t,e,n,s)=>{let r=Su.get(t);r===void 0&&(r=new WeakMap,Su.set(t,r));const i=w1(n,s);return r.set(e,i),i},k1=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,p,v,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(b=>b<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const m=w.channelCount*w.numberOfInputs,_=f.reduce((b,H)=>b+H,0),x=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length;if(m+x>6||_>6)throw l();const y=new MessageChannel,k=[],T=[];for(let b=0;b<w.numberOfInputs;b+=1)k.push(o(g,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),T.push(r(g,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const S=[];if(v.parameterDescriptors!==void 0)for(const{defaultValue:b,maxValue:H,minValue:Se,name:de}of v.parameterDescriptors){const te=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[de]!==void 0?w.parameterData[de]:b===void 0?0:b});Object.defineProperties(te.offset,{defaultValue:{get:()=>b===void 0?0:b},maxValue:{get:()=>H===void 0?st:H},minValue:{get:()=>Se===void 0?pt:Se}}),S.push(te)}const E=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+x)}),C=wm(p,g.sampleRate),N=a(g,C,m+x,Math.max(1,_)),A=r(g,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),F=[];for(let b=0;b<w.numberOfOutputs;b+=1)F.push(s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[b]}));for(let b=0;b<w.numberOfInputs;b+=1){k[b].connect(T[b]);for(let H=0;H<w.channelCount;H+=1)T[b].connect(E,H,b*w.channelCount+H)}const V=new _m(v.parameterDescriptors===void 0?[]:v.parameterDescriptors.map(({name:b},H)=>{const Se=S[H];return Se.connect(E,0,m+H),Se.start(0),[b,Se.offset]}));E.connect(N);let U=w.channelInterpretation,j=null;const W=w.numberOfOutputs===0?[N]:F,O={get bufferSize(){return C},get channelCount(){return w.channelCount},set channelCount(b){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(b){throw n()},get channelInterpretation(){return U},set channelInterpretation(b){for(const H of k)H.channelInterpretation=b;U=b},get context(){return N.context},get inputs(){return k},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(b){typeof j=="function"&&O.removeEventListener("processorerror",j),j=typeof b=="function"?b:null,typeof j=="function"&&O.addEventListener("processorerror",j)},get parameters(){return V},get port(){return y.port2},addEventListener(...b){return N.addEventListener(b[0],b[1],b[2])},connect:t.bind(null,W),disconnect:u.bind(null,W),dispatchEvent(...b){return N.dispatchEvent(b[0])},removeEventListener(...b){return N.removeEventListener(b[0],b[1],b[2])}},M=new Map;y.port1.addEventListener=(b=>(...H)=>{if(H[0]==="message"){const Se=typeof H[1]=="function"?H[1]:typeof H[1]=="object"&&H[1]!==null&&typeof H[1].handleEvent=="function"?H[1].handleEvent:null;if(Se!==null){const de=M.get(H[1]);de!==void 0?H[1]=de:(H[1]=te=>{c(g.currentTime,g.sampleRate,()=>Se(te))},M.set(Se,H[1]))}}return b.call(y.port1,H[0],H[1],H[2])})(y.port1.addEventListener),y.port1.removeEventListener=(b=>(...H)=>{if(H[0]==="message"){const Se=M.get(H[1]);Se!==void 0&&(M.delete(H[1]),H[1]=Se)}return b.call(y.port1,H[0],H[1],H[2])})(y.port1.removeEventListener);let I=null;Object.defineProperty(y.port1,"onmessage",{get:()=>I,set:b=>{typeof I=="function"&&y.port1.removeEventListener("message",I),I=typeof b=="function"?b:null,typeof I=="function"&&(y.port1.addEventListener("message",I),y.port1.start())}}),v.prototype.port=y.port1;let L=null;S1(g,O,v,w).then(b=>L=b);const ne=Ko(w.numberOfInputs,w.channelCount),oe=Ko(w.numberOfOutputs,f),Q=v.parameterDescriptors===void 0?[]:v.parameterDescriptors.reduce((b,{name:H})=>({...b,[H]:new Float32Array(128)}),{});let K=!0;const Ne=()=>{w.numberOfOutputs>0&&N.disconnect(A);for(let b=0,H=0;b<w.numberOfOutputs;b+=1){const Se=F[b];for(let de=0;de<f[b];de+=1)A.disconnect(Se,H+de,de);H+=f[b]}},B=new Map;N.onaudioprocess=({inputBuffer:b,outputBuffer:H})=>{if(L!==null){const Se=h(O);for(let de=0;de<C;de+=128){for(let te=0;te<w.numberOfInputs;te+=1)for(let ge=0;ge<w.channelCount;ge+=1)Zo(b,ne[te],ge,ge,de);v.parameterDescriptors!==void 0&&v.parameterDescriptors.forEach(({name:te},ge)=>{Zo(b,Q,te,m+ge,de)});for(let te=0;te<w.numberOfInputs;te+=1)for(let ge=0;ge<f[te];ge+=1)oe[te][ge].byteLength===0&&(oe[te][ge]=new Float32Array(128));try{const te=ne.map((ut,rn)=>{if(Se[rn].size>0)return B.set(rn,C/128),ut;const ds=B.get(rn);return ds===void 0?[]:(ut.every(bs=>bs.every(Ga=>Ga===0))&&(ds===1?B.delete(rn):B.set(rn,ds-1)),ut)});K=c(g.currentTime+de/g.sampleRate,g.sampleRate,()=>L.process(te,oe,Q));for(let ut=0,rn=0;ut<w.numberOfOutputs;ut+=1){for(let on=0;on<f[ut];on+=1)vm(H,oe[ut],on,rn+on,de);rn+=f[ut]}}catch(te){K=!1,O.dispatchEvent(new ErrorEvent("processorerror",{colno:te.colno,filename:te.filename,lineno:te.lineno,message:te.message}))}if(!K){for(let te=0;te<w.numberOfInputs;te+=1){k[te].disconnect(T[te]);for(let ge=0;ge<w.channelCount;ge+=1)T[de].disconnect(E,ge,te*w.channelCount+ge)}if(v.parameterDescriptors!==void 0){const te=v.parameterDescriptors.length;for(let ge=0;ge<te;ge+=1){const ut=S[ge];ut.disconnect(E,0,m+ge),ut.stop()}}E.disconnect(N),N.onaudioprocess=null,At?Ne():sn();break}}}};let At=!1;const vn=o(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Fn=()=>N.connect(vn).connect(g.destination),sn=()=>{N.disconnect(vn),vn.disconnect()},Ir=()=>{if(K){sn(),w.numberOfOutputs>0&&N.connect(A);for(let b=0,H=0;b<w.numberOfOutputs;b+=1){const Se=F[b];for(let de=0;de<f[b];de+=1)A.connect(Se,H+de,de);H+=f[b]}}At=!0},Li=()=>{K&&(Fn(),Ne()),At=!1};return Fn(),d(O,Ir,Li)},Sm=(t,e)=>{const n=t.createBiquadFilter();return je(n,e),Oe(n,e,"Q"),Oe(n,e,"detune"),Oe(n,e,"frequency"),Oe(n,e,"gain"),ke(n,e,"type"),n},T1=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),je(r,s),r},x1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ue()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ue()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ue()}})},Mi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return je(n,e),x1(n),n},C1=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return je(a,o),Oe(a,o,"offset"),e(s,()=>s(i))||Ec(a),e(r,()=>r(i))||Nc(a),t(i,a),a},Nr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),E1=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},d=()=>l.connect(u),g=()=>l.disconnect(u);return t(r,l),s(Nr(h,u),d,g)},N1=(t,e)=>(n,s)=>{const r=n.createConvolver();if(je(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),ke(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},km=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return je(n,e),Oe(n,e,"delayTime"),n},A1=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(je(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Oe(s,n,"attack"),Oe(s,n,"knee"),Oe(s,n,"ratio"),Oe(s,n,"release"),Oe(s,n,"threshold"),s},yt=(t,e)=>{const n=t.createGain();return je(n,e),Oe(n,e,"gain"),n},O1=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return je(r,s),r};function M1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function D1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Fd(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=D1(n,e),n[0]+=t[s];return n}const I1=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=wm(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),g=c instanceof Float64Array?c:new Float64Array(c),p=d.length,v=g.length,w=Math.min(p,v);if(p===0||p>20)throw s();if(d[0]===0)throw e();if(v===0||v>20)throw s();if(g[0]===0)throw e();if(d[0]!==1){for(let S=0;S<v;S+=1)g[S]/=d[0];for(let S=1;S<p;S+=1)d[S]/=d[0]}const f=n(r,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const m=32,_=[],x=[],y=[];for(let S=0;S<o;S+=1){_.push(0);const E=new Float32Array(m),C=new Float32Array(m);E.fill(0),C.fill(0),x.push(E),y.push(C)}f.onaudioprocess=S=>{const E=S.inputBuffer,C=S.outputBuffer,N=E.numberOfChannels;for(let A=0;A<N;A+=1){const F=E.getChannelData(A),V=C.getChannelData(A);_[A]=ym(d,p,g,v,w,x[A],y[A],_[A],m,F,V)}};const k=r.sampleRate/2;return Nr({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(S){f.channelCount=S},get channelCountMode(){return f.channelCountMode},set channelCountMode(S){f.channelCountMode=S},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(S){f.channelInterpretation=S},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},getFrequencyResponse(S,E,C){if(S.length!==E.length||E.length!==C.length)throw t();const N=S.length;for(let A=0;A<N;A+=1){const F=-Math.PI*(S[A]/k),V=[Math.cos(F),Math.sin(F)],U=Fd(g,V),j=Fd(d,V),W=M1(U,j);E[A]=Math.sqrt(W[0]*W[0]+W[1]*W[1]),C[A]=Math.atan2(W[1],W[0])}},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])}},f)},R1=(t,e)=>t.createMediaElementSource(e.mediaElement),P1=(t,e)=>{const n=t.createMediaStreamDestination();return je(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},F1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},V1=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},L1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,b1=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return je(l,a),Oe(l,a,"detune"),Oe(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ke(l,a,"type"),e(n,()=>n(o))||Ec(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||Nc(l),t(o,l),l},j1=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(je(s,n),Oe(s,n,"orientationX"),Oe(s,n,"orientationY"),Oe(s,n,"orientationZ"),Oe(s,n,"positionX"),Oe(s,n,"positionY"),Oe(s,n,"positionZ"),ke(s,n,"coneInnerAngle"),ke(s,n,"coneOuterAngle"),ke(s,n,"coneOuterGain"),ke(s,n,"distanceModel"),ke(s,n,"maxDistance"),ke(s,n,"panningModel"),ke(s,n,"refDistance"),ke(s,n,"rolloffFactor"),s)},z1=(t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:g,distanceModel:p,maxDistance:v,orientationX:w,orientationY:f,orientationZ:m,panningModel:_,positionX:x,positionY:y,positionZ:k,refDistance:T,rolloffFactor:S,...E})=>{const C=c.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw o();je(C,E);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,{...N,channelInterpretation:"speakers",numberOfInputs:6}),F=s(c,{...E,gain:1}),V=s(c,{...N,gain:1}),U=s(c,{...N,gain:0}),j=s(c,{...N,gain:0}),W=s(c,{...N,gain:0}),O=s(c,{...N,gain:0}),M=s(c,{...N,gain:0}),I=r(c,256,6,1),L=i(c,{...N,curve:new Float32Array([1,1]),oversample:"none"});let G=[w,f,m],ne=[x,y,k];const oe=new Float32Array(1);I.onaudioprocess=({inputBuffer:B})=>{const At=[l(B,oe,0),l(B,oe,1),l(B,oe,2)];At.some((Fn,sn)=>Fn!==G[sn])&&(C.setOrientation(...At),G=At);const vn=[l(B,oe,3),l(B,oe,4),l(B,oe,5)];vn.some((Fn,sn)=>Fn!==ne[sn])&&(C.setPosition(...vn),ne=vn)},Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(B){if(B>2)throw o();F.channelCount=B,C.channelCount=B},get channelCountMode(){return C.channelCountMode},set channelCountMode(B){if(B==="max")throw o();F.channelCountMode=B,C.channelCountMode=B},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(B){F.channelInterpretation=B,C.channelInterpretation=B},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(B){C.coneInnerAngle=B},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(B){C.coneOuterAngle=B},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(B){if(B<0||B>1)throw e();C.coneOuterGain=B},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(B){C.distanceModel=B},get inputs(){return[F]},get maxDistance(){return C.maxDistance},set maxDistance(B){if(B<0)throw new RangeError;C.maxDistance=B},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return U.gain},get orientationZ(){return j.gain},get panningModel(){return C.panningModel},set panningModel(B){C.panningModel=B},get positionX(){return W.gain},get positionY(){return O.gain},get positionZ(){return M.gain},get refDistance(){return C.refDistance},set refDistance(B){if(B<0)throw new RangeError;C.refDistance=B},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(B){if(B<0)throw new RangeError;C.rolloffFactor=B},addEventListener(...B){return F.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return F.dispatchEvent(B[0])},removeEventListener(...B){return F.removeEventListener(B[0],B[1],B[2])}};h!==Q.coneInnerAngle&&(Q.coneInnerAngle=h),d!==Q.coneOuterAngle&&(Q.coneOuterAngle=d),g!==Q.coneOuterGain&&(Q.coneOuterGain=g),p!==Q.distanceModel&&(Q.distanceModel=p),v!==Q.maxDistance&&(Q.maxDistance=v),w!==Q.orientationX.value&&(Q.orientationX.value=w),f!==Q.orientationY.value&&(Q.orientationY.value=f),m!==Q.orientationZ.value&&(Q.orientationZ.value=m),_!==Q.panningModel&&(Q.panningModel=_),x!==Q.positionX.value&&(Q.positionX.value=x),y!==Q.positionY.value&&(Q.positionY.value=y),k!==Q.positionZ.value&&(Q.positionZ.value=k),T!==Q.refDistance&&(Q.refDistance=T),S!==Q.rolloffFactor&&(Q.rolloffFactor=S),(G[0]!==1||G[1]!==0||G[2]!==0)&&C.setOrientation(...G),(ne[0]!==0||ne[1]!==0||ne[2]!==0)&&C.setPosition(...ne);const K=()=>{F.connect(C),t(F,L,0,0),L.connect(V).connect(A,0,0),L.connect(U).connect(A,0,1),L.connect(j).connect(A,0,2),L.connect(W).connect(A,0,3),L.connect(O).connect(A,0,4),L.connect(M).connect(A,0,5),A.connect(I).connect(c.destination)},Ne=()=>{F.disconnect(C),a(F,L,0,0),L.disconnect(V),V.disconnect(A),L.disconnect(U),U.disconnect(A),L.disconnect(j),j.disconnect(A),L.disconnect(W),W.disconnect(A),L.disconnect(O),O.disconnect(A),L.disconnect(M),M.disconnect(A),A.disconnect(I),I.disconnect(c.destination)};return u(Nr(Q,C),K,Ne)},W1=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},Di=(t,e,n,s)=>t.createScriptProcessor(e,n,s),B1=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return je(i,s),Oe(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},q1=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(p,v,w,f)=>{const m=new Float32Array(16385),_=new Float32Array(16385);for(let E=0;E<16385;E+=1){const C=E/16384*l;m[E]=Math.cos(C),_[E]=Math.sin(C)}const x=n(p,{...u,gain:0}),y=s(p,{...c,curve:m}),k=s(p,{...c,curve:a}),T=n(p,{...u,gain:0}),S=s(p,{...c,curve:_});return{connectGraph(){v.connect(x),v.connect(k.inputs===void 0?k:k.inputs[0]),v.connect(T),k.connect(w),w.connect(y.inputs===void 0?y:y.inputs[0]),w.connect(S.inputs===void 0?S:S.inputs[0]),y.connect(x.gain),S.connect(T.gain),x.connect(f,0,0),T.connect(f,0,1)},disconnectGraph(){v.disconnect(x),v.disconnect(k.inputs===void 0?k:k.inputs[0]),v.disconnect(T),k.disconnect(w),w.disconnect(y.inputs===void 0?y:y.inputs[0]),w.disconnect(S.inputs===void 0?S:S.inputs[0]),y.disconnect(x.gain),S.disconnect(T.gain),x.disconnect(f,0,0),T.disconnect(f,0,1)}}},d=(p,v,w,f)=>{const m=new Float32Array(16385),_=new Float32Array(16385),x=new Float32Array(16385),y=new Float32Array(16385),k=Math.floor(16385/2);for(let W=0;W<16385;W+=1)if(W>k){const O=(W-k)/(16384-k)*l;m[W]=Math.cos(O),_[W]=Math.sin(O),x[W]=0,y[W]=1}else{const O=W/(16384-k)*l;m[W]=1,_[W]=0,x[W]=Math.cos(O),y[W]=Math.sin(O)}const T=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(p,{...u,gain:0}),E=s(p,{...c,curve:m}),C=n(p,{...u,gain:0}),N=s(p,{...c,curve:_}),A=s(p,{...c,curve:a}),F=n(p,{...u,gain:0}),V=s(p,{...c,curve:x}),U=n(p,{...u,gain:0}),j=s(p,{...c,curve:y});return{connectGraph(){v.connect(T),v.connect(A.inputs===void 0?A:A.inputs[0]),T.connect(S,0),T.connect(C,0),T.connect(F,1),T.connect(U,1),A.connect(w),w.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(N.inputs===void 0?N:N.inputs[0]),w.connect(V.inputs===void 0?V:V.inputs[0]),w.connect(j.inputs===void 0?j:j.inputs[0]),E.connect(S.gain),N.connect(C.gain),V.connect(F.gain),j.connect(U.gain),S.connect(f,0,0),F.connect(f,0,0),C.connect(f,0,1),U.connect(f,0,1)},disconnectGraph(){v.disconnect(T),v.disconnect(A.inputs===void 0?A:A.inputs[0]),T.disconnect(S,0),T.disconnect(C,0),T.disconnect(F,1),T.disconnect(U,1),A.disconnect(w),w.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(N.inputs===void 0?N:N.inputs[0]),w.disconnect(V.inputs===void 0?V:V.inputs[0]),w.disconnect(j.inputs===void 0?j:j.inputs[0]),E.disconnect(S.gain),N.disconnect(C.gain),V.disconnect(F.gain),j.disconnect(U.gain),S.disconnect(f,0,0),F.disconnect(f,0,0),C.disconnect(f,0,1),U.disconnect(f,0,1)}}},g=(p,v,w,f,m)=>{if(v===1)return h(p,w,f,m);if(v===2)return d(p,w,f,m);throw r()};return(p,{channelCount:v,channelCountMode:w,pan:f,...m})=>{if(w==="max")throw r();const _=t(p,{...m,channelCount:1,channelCountMode:w,numberOfInputs:2}),x=n(p,{...m,channelCount:v,channelCountMode:w,gain:1}),y=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:k,disconnectGraph:T}=g(p,v,x,y,_);Object.defineProperty(y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(y.gain,"maxValue",{get:()=>1}),Object.defineProperty(y.gain,"minValue",{get:()=>-1});const S={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(A){x.channelCount!==A&&(E&&T(),{connectGraph:k,disconnectGraph:T}=g(p,A,x,y,_),E&&k()),x.channelCount=A},get channelCountMode(){return x.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw r();x.channelCountMode=A},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(A){x.channelInterpretation=A},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get pan(){return y.gain},addEventListener(...A){return x.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return x.dispatchEvent(A[0])},removeEventListener(...A){return x.removeEventListener(A[0],A[1],A[2])}};let E=!1;const C=()=>{k(),E=!0},N=()=>{T(),E=!1};return i(Nr(S,_),C,N)}},U1=(t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);je(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();ke(u,{curve:c},"curve"),ke(u,l,"oversample");let h=null,d=!1;return o(u,"curve",v=>()=>v.call(u),v=>w=>(v.call(u,w),d&&(s(w)&&h===null?h=t(a,u):!s(w)&&h!==null&&(h(),h=null)),w)),r(u,()=>{d=!0,s(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},$1=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();je(u,l),je(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),g=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1});let v=null,w=!1,f=null;const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(y){h.channelCount=y,d.channelCount=y,u.channelCount=y,g.channelCount=y,c.channelCount=y,p.channelCount=y},get channelCountMode(){return u.channelCountMode},set channelCountMode(y){h.channelCountMode=y,d.channelCountMode=y,u.channelCountMode=y,g.channelCountMode=y,c.channelCountMode=y,p.channelCountMode=y},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(y){h.channelInterpretation=y,d.channelInterpretation=y,u.channelInterpretation=y,g.channelInterpretation=y,c.channelInterpretation=y,p.channelInterpretation=y},get context(){return u.context},get curve(){return f},set curve(y){if(y!==null&&y.length<2)throw e();if(y===null)u.curve=y,c.curve=y;else{const k=y.length,T=new Float32Array(k+2-k%2),S=new Float32Array(k+2-k%2);T[0]=y[0],S[0]=-y[k-1];const E=Math.ceil((k+1)/2),C=(k+1)/2-1;for(let N=1;N<E;N+=1){const A=N/E*C,F=Math.floor(A),V=Math.ceil(A);T[N]=F===V?y[F]:(1-(A-F))*y[F]+(1-(V-A))*y[V],S[N]=F===V?-y[k-1-F]:-((1-(A-F))*y[k-1-F])-(1-(V-A))*y[k-1-V]}T[E]=k%2===1?y[E-1]:(y[E-2]+y[E-1])/2,u.curve=T,c.curve=S}f=y,w&&(s(f)&&v===null?v=t(i,h):v!==null&&(v(),v=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(y){u.oversample=y,c.oversample=y},addEventListener(...y){return h.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return h.dispatchEvent(y[0])},removeEventListener(...y){return h.removeEventListener(y[0],y[1],y[2])}};o!==null&&(m.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==m.oversample&&(m.oversample=a);const _=()=>{h.connect(u).connect(g),h.connect(d).connect(c).connect(p).connect(g),w=!0,s(f)&&(v=t(i,h))},x=()=>{h.disconnect(u),u.disconnect(g),h.disconnect(d),d.disconnect(c),c.disconnect(p),p.disconnect(g),w=!1,v!==null&&(v(),v=null)};return r(Nr(m,g),_,x)},lt=()=>new DOMException("","NotSupportedError"),H1={numberOfChannels:1},G1=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...H1,...u},g=s(h,c,d);e(yi,()=>yi(g))||g.addEventListener("statechange",(()=>{let p=0;const v=w=>{this._state==="running"&&(p>0?(g.removeEventListener("statechange",v),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):p+=1)};return v})()),super(g,h),this._length=c,this._nativeOfflineAudioContext=g,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,fm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Q1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},X1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Q1,...u},d=n(c,h),g=i(c),p=g?s():null,v=l.sampleRate/2;super(l,!1,d,p),this._detune=e(this,g,d.detune,153600,-153600),this._frequency=e(this,g,d.frequency,v,-v),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){vr(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Cn(this)&&Ni(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},Y1=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const g=tt(d,h);if(!g){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,p),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),g?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await s(h,c.detune,d.detune),await s(h,c.frequency,d.frequency)),await r(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},Z1={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},K1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Z1,...u},d=n(c,h),g=i(c),p=g?s():null;super(l,!1,d,p),this._nativePannerNode=d,this._orientationX=e(this,g,d.orientationX,st,pt),this._orientationY=e(this,g,d.orientationY,st,pt),this._orientationZ=e(this,g,d.orientationZ,st,pt),this._positionX=e(this,g,d.positionX,st,pt),this._positionY=e(this,g,d.positionY,st,pt),this._positionZ=e(this,g,d.positionZ,st,pt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},J1=(t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(g,p)=>{let v=null,w=i(g);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},m={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},_=tt(w,p);if("bufferSize"in w)v=s(p,{...f,gain:1});else if(!_){const x={...m,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(p,x)}if(c.set(p,v===null?w:v),v!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new o(6,g.context.length,p.sampleRate),A=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(N.destination),h=(async()=>{const F=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(V,U)=>{const j=n(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U===0?1:0});return await a(N,V,j.offset),j}));for(let V=0;V<6;V+=1)F[V].connect(A,0,V),F[V].start(0);return u(N)})()}const x=await h,y=s(p,{...f,gain:1});await l(g,p,y);const k=[];for(let N=0;N<x.numberOfChannels;N+=1)k.push(x.getChannelData(N));let T=[k[0][0],k[1][0],k[2][0]],S=[k[3][0],k[4][0],k[5][0]],E=s(p,{...f,gain:1}),C=r(p,{...m,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:S[0],positionY:S[1],positionZ:S[2]});y.connect(E).connect(C.inputs[0]),C.connect(v);for(let N=128;N<x.length;N+=128){const A=[k[0][N],k[1][N],k[2][N]],F=[k[3][N],k[4][N],k[5][N]];if(A.some((V,U)=>V!==T[U])||F.some((V,U)=>V!==S[U])){T=A,S=F;const V=N/p.sampleRate;E.gain.setValueAtTime(0,V),E=s(p,{...f,gain:0}),C=r(p,{...m,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:S[0],positionY:S[1],positionZ:S[2]}),E.gain.setValueAtTime(1,V),y.connect(E).connect(C.inputs[0]),C.connect(v)}}return v}return _?(await t(p,g.orientationX,w.orientationX),await t(p,g.orientationY,w.orientationY),await t(p,g.orientationZ,w.orientationZ),await t(p,g.positionX,w.positionX),await t(p,g.positionY,w.positionY),await t(p,g.positionZ,w.positionZ)):(await a(p,g.orientationX,w.orientationX),await a(p,g.orientationY,w.orientationY),await a(p,g.orientationZ,w.orientationZ),await a(p,g.positionX,w.positionX),await a(p,g.positionY,w.positionY),await a(p,g.positionZ,w.positionZ)),Er(w)?await l(g,p,w.inputs[0]):await l(g,p,w),w};return{render(g,p){const v=c.get(p);return v!==void 0?Promise.resolve(v):d(g,p)}}},ew={disableNormalization:!1},tw=(t,e,n,s)=>class Tm{constructor(i,o){const a=e(i),l=s({...ew,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Tm.prototype||n.has(i)}},nw=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),sw=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,r),g=s.context.destination;!n(u)&&(s!==g||!n(s))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},rw=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,r);n(a)||c.connect(i,l)}))},iw=(t,e,n,s)=>r=>t(yi,()=>yi(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),ow=t=>(e,n)=>{t.set(e,n)},aw=t=>(e,n)=>t.set(e,n),lw=(t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(s(u)).map(c=>n(c).render(c,u)))).then(()=>r(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Tc(c)):e(i,()=>i(c))||a(c),t.add(c),c)),uw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},cw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...uw,...l},h=n(u,c),d=i(u),g=d?s():null;super(a,!1,h,g),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},hw=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=tt(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await s(l,a.pan,u.pan),Er(u)?await r(a,l,u.inputs[0]):await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},dw=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},fw=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},pw=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},mw=()=>new DOMException("","UnknownError"),gw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},_w=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...gw,...u},d=n(c,h),p=i(c)?s():null;super(l,!0,d,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},vw=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!tt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return s.set(o,a),Er(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},yw=()=>typeof window>"u"?null:window,ww=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)s[h]=u[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=s[h]}},Sw=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},kw=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},Tw=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},xm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Cm=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ii=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},xw=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Cw=t=>({...t,channelCount:t.numberOfOutputs}),Ew=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Em=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;Em(t,e,n+1e-7)}},Nw=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Aw=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Ow=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ac=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Nm=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Oc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Mw=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Dw=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},Am=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Nr(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},Ar=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Iw=Kv(Ps),Rw=ry(Ps),Pw=g0(Ca),Om=new WeakMap,Fw=P0(Om),en=Hy(new Map,new WeakMap),dn=yw(),Mm=c1(en,mn),Mc=R0(rt),Xe=sw(rt,Mc,As),Vw=uy(Mm,we,Xe),me=L0(xa),In=L1(dn),he=e1(In),Dm=new WeakMap,Im=E0(Ar),Ri=p1(dn),Dc=Y0(Ri),Ic=Z0(dn),Rm=K0(dn),wi=g1(dn),Ie=Py(Jv(om),sy(Iw,Rw,Qo,Pw,Xo,rt,Fw,Ei,we,Ps,Cn,As,vo),en,$0(yu,Xo,rt,we,vi,Cn),mn,Ea,lt,d0(Qo,yu,rt,we,vi,me,Cn,he),y0(Dm,rt,Kt),Im,me,Dc,Ic,Rm,he,wi),Lw=ly(Ie,Vw,mn,Mm,me,he),Rc=new WeakSet,Vd=h1(dn),Pm=i0(new Uint32Array(1)),Pc=ww(Pm,mn),Fc=Sw(Pm),Fm=hy(Rc,en,lt,Vd,In,dw(Vd),Pc,Fc),Na=iy(yt),Vm=rw(Mc,Ai,As),gn=Jy(Vm),Or=f1(Na,en,Nw,Aw,Ow,Ac,Nm,Oc,Dw,kw(Ii),Am),_n=nw(F0(Ai),Vm),bw=py(gn,Or,we,_n,Xe),tn=Fy(ey(am),Dm,kc,Vy,Hv,Gv,Qv,Xv,Yv,gu,rm,Ri,Em),jw=fy(Ie,bw,tn,Ue,Or,me,he,Ar),zw=Ty(Ie,xy,mn,Ue,m1(yt,Ii),me,he,Xe),Ww=$y(gn,Sm,we,_n,Xe),Fs=aw(Om),Bw=Uy(Ie,tn,Ww,Ea,Sm,me,he,Fs),us=l1(Ps,Ic),qw=Tw(Ue,us),cs=T1(Ri,qw),Uw=Xy(cs,we,Xe),$w=Qy(Ie,Uw,cs,me,he),Hw=Ky(Mi,we,Xe),Gw=Zy(Ie,Hw,Mi,me,he,Cw),Qw=E1(Na,Or,yt,us),Mr=C1(Na,en,Qw,Ac,Oc),Xw=r0(gn,Mr,we,_n,Xe),Yw=s0(Ie,tn,Xw,Mr,me,he,Ar),Lm=N1(lt,Ii),Zw=l0(Lm,we,Xe),Kw=a0(Ie,Zw,Lm,me,he,Fs),Jw=m0(gn,km,we,_n,Xe),eS=p0(Ie,tn,Jw,km,me,he,Fs),bm=A1(lt),tS=T0(gn,bm,we,_n,Xe),nS=k0(Ie,tn,tS,bm,lt,me,he,Fs),sS=D0(gn,yt,we,_n,Xe),rS=M0(Ie,tn,sS,yt,me,he),iS=I1(Ea,Ue,Di,lt),Aa=iw(en,yt,Di,pw(yt,In)),oS=U0(Or,we,In,Xe,Aa),aS=O1(iS),lS=B0(Ie,aS,oS,me,he,Fs),uS=Cy(tn,cs,Mr,Di,lt,xm,he,Ii),jm=new WeakMap,cS=a1(zw,uS,Im,he,jm,Ar),zm=b1(Na,en,Ac,Nm,Oc,Am),hS=Y1(gn,zm,we,_n,Xe),dS=X1(Ie,tn,zm,hS,me,he,Ar),Wm=t0(Or),fS=$1(Wm,Ue,yt,Cm,us),Oa=U1(Wm,Ue,fS,Cm,us,Ri,Ii),pS=z1(Qo,Ue,cs,yt,Di,Oa,lt,Xo,xm,us),Bm=j1(pS),mS=J1(gn,cs,Mr,yt,Bm,we,In,_n,Xe,Aa),gS=K1(Ie,tn,Bm,mS,me,he,Fs),_S=W1(mn),vS=tw(_S,me,new WeakSet,Ew),yS=q1(cs,Mi,yt,Oa,lt,us),qm=B1(yS,lt),wS=hw(gn,qm,we,_n,Xe),SS=cw(Ie,tn,qm,wS,me,he),kS=vw(Oa,we,Xe),TS=_w(Ie,Ue,Oa,kS,me,he,Fs),Um=t1(dn),Vc=N0(dn),$m=new WeakMap,xS=b0($m,In),CS=Um?ny(en,lt,C0(dn),Vc,A0(Zv),me,xS,he,wi,new WeakMap,new WeakMap,fw(wi,In),dn):void 0,ES=J0(Dc,he),NS=h0(Rc,en,c0,x0,new WeakSet,me,ES,Ho,yi,Pc,Fc),Hm=By(CS,Lw,Fm,jw,Bw,$w,Gw,Yw,Kw,NS,eS,nS,rS,lS,cS,dS,gS,vS,SS,TS),AS=n1(Ie,R1,me,he),OS=r1(Ie,P1,me,he),MS=i1(Ie,F1,me,he),DS=V1(Ue,he),IS=o1(Ie,DS,me),RS=ky(Hm,Ue,lt,mw,AS,OS,MS,IS,Ri),Lc=j0(jm),PS=oy(Lc),Gm=e0(mn),FS=_0(Lc),Qm=w0(mn),Xm=new WeakMap,VS=I0(Xm,Kt),LS=k1(Gm,mn,Ue,cs,Mi,Mr,yt,Di,lt,Qm,Vc,VS,us),bS=v1(Ue,LS,yt,lt,us),jS=Wy(gn,Gm,Or,cs,Mi,Mr,yt,FS,Qm,Vc,we,wi,In,_n,Xe,Aa),zS=V0($m),WS=ow(Xm),Ld=Um?by(PS,Ie,tn,jS,bS,rt,zS,me,he,wi,xw,WS,Mw,Ar):void 0,BS=u0(lt,In),qS=lw(Rc,en,Mc,Lc,Aa,Ho,Pc,Fc),US=G1(Hm,en,Ue,BS,qS),$S=H0(xa,Dc),HS=G0(Sc,Ic),GS=Q0(kc,Rm),QS=X0(xa,he);function bt(t){return t===void 0}function ee(t){return t!==void 0}function XS(t){return typeof t=="function"}function fn(t){return typeof t=="number"}function ws(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Ym(t){return typeof t=="boolean"}function Yt(t){return Array.isArray(t)}function Mn(t){return typeof t=="string"}function so(t){return Mn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function X(t,e){if(!t)throw new Error(e)}function rs(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Zm(t){!t.isOffline&&t.state!=="running"&&bc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Km=!1,bd=!1;function jd(t){Km=t}function YS(t){bt(t)&&Km&&!bd&&(bd=!0,bc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Jm=console;function ZS(...t){Jm.log(...t)}function bc(...t){Jm.warn(...t)}function KS(t){return new RS(t)}function JS(t,e,n){return new US(t,e,n)}const St=typeof self=="object"?self:null,ek=St&&(St.hasOwnProperty("AudioContext")||St.hasOwnProperty("webkitAudioContext"));function tk(t,e,n){return X(ee(Ld),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(St==null?void 0:St.BaseAudioContext)?St==null?void 0:St.AudioWorkletNode:Ld)(t,e,n)}function nn(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Fe(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}class nk{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Os(t){return GS(t)}function ts(t){return HS(t)}function yo(t){return QS(t)}function zs(t){return $S(t)}function sk(t){return t instanceof Fm}function rk(t,e){return t==="value"||Os(e)||ts(e)||sk(e)}function lr(t,...e){if(!e.length)return t;const n=e.shift();if(ws(t)&&ws(n))for(const s in n)rk(s,n[s])?t[s]=n[s]:ws(n[s])?(t[s]||Object.assign(t,{[s]:{}}),lr(t[s],n[s])):Object.assign(t,{[s]:n[s]});return lr(t,...e)}function ik(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function q(t,e,n=[],s){const r={},i=Array.from(e);if(ws(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(lr(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&ws(i[0]))lr(r,i[0]);else for(let o=0;o<n.length;o++)ee(i[o])&&(r[n[o]]=i[o]);return lr(t,r)}function ok(t){return t.constructor.getDefaults()}function Ss(t,e){return bt(t)?e:t}function zd(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Rn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||St&&this.toString()===St.TONE_DEBUG_CLASS)&&ZS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Rn.version=sm;const jc=1e-6;function yr(t,e){return t>e+jc}function xu(t,e){return yr(t,e)||Ht(t,e)}function Jo(t,e){return t+jc<e}function Ht(t,e){return Math.abs(t-e)<jc}function ak(t,e,n){return Math.max(Math.min(t,n),e)}class jt extends Rn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=q(jt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(X(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];X(xu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ht(this._timeline[n].time,e)){for(let s=n;s>=0&&Ht(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&xu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Ht(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Ht(c[n],e))o=u;else break}return o}else{if(Jo(a[n],e)&&yr(l[n],e))return o;yr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Ht(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Ht(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const eg=[];function Ma(t){eg.push(t)}function lk(t){eg.forEach(e=>e(t))}const tg=[];function Da(t){tg.push(t)}function uk(t){tg.forEach(e=>e(t))}class Pi extends Rn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{bt(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(bt(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(bt(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Pi.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class ng extends Pi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Fi extends ng{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new jt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=q(Fi.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=KS({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new nk(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(lk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return X(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return X(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return X(zs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){X(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){X(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){X(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){X(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return tk(this.rawContext,e,n)}addAudioWorkletModule(e){return Fe(this,void 0,void 0,function*(){X(ee(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Fe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return zs(this._context)?this._context.resume():Promise.resolve()}close(){return Fe(this,void 0,void 0,function*(){zs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&uk(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class ck extends ng{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Fe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ie(t,e){Yt(e)?e.forEach(n=>ie(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function zc(t,e){Yt(e)?e.forEach(n=>zc(t,n)):Object.defineProperty(t,e,{writable:!0})}const ae=()=>{};class ve extends Rn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ae;const e=q(ve.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Mn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ae,onload:ae,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ft().sampleRate}set(e){return e instanceof ve?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Fe(this,void 0,void 0,function*(){const n=ve.load(e).then(s=>{this.set(s),this.onload(this)});ve.downloads.push(n);try{yield n}finally{const s=ve.downloads.indexOf(n);ve.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Yt(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=Ft(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(fn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(fn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){X(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);X(s<r,"The start time must be less than the end time");const i=r-s,o=Ft().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new ve(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ve().fromArray(e)}static fromUrl(e){return Fe(this,void 0,void 0,function*(){return yield new ve().load(e)})}static load(e){return Fe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const c of l)if(ve.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const s=ve.baseUrl===""||ve.baseUrl.endsWith("/")?ve.baseUrl:ve.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Ft().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Fe(this,void 0,void 0,function*(){for(yield Promise.resolve();ve.downloads.length;)yield ve.downloads[0]})}}ve.baseUrl="";ve.downloads=[];class Wc extends Fi{constructor(){super({clockSource:"offline",context:yo(arguments[0])?arguments[0]:JS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:yo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=yo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Fe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return Fe(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ve(n)})}close(){return Promise.resolve()}}const sg=new ck;let er=sg;function Ft(){return er===sg&&ek&&hk(new Fi),er}function hk(t,e=!1){e&&er.dispose(),zs(t)?er=new Fi(t):yo(t)?er=new Wc(t):er=t}if(St&&!St.TONE_SILENCE_LOGGING){const e=` * Tone.js v${sm} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function dk(t){return Math.pow(10,t/20)}function fk(t){return 20*(Math.log(t)/Math.LN10)}function rg(t){return Math.pow(2,t/12)}let Ia=440;function pk(){return Ia}function mk(t){Ia=t}function Cu(t){return Math.round(ig(t))}function ig(t){return 69+12*Math.log2(t/Ia)}function gk(t){return Ia*Math.pow(2,(t-69)/12)}class Bc extends Rn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Bc&&this.fromType(this._val),bt(this._val))return this._noArg();if(Mn(this._val)&&bt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ws(this._val)){let e=0;for(const n in this._val)if(ee(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(ee(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Mn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Gt extends Bc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Gt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new Gt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Gt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Cu(this.toFrequency())}_now(){return this.context.now()}}class Vt extends Gt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return pk()}static set A4(e){mk(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Vt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=_k[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:Vt.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new Vt(this.context,this.valueOf()*rg(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Cu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Vt.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),vk[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return gk(e)}static ftom(e){return Cu(e)}}const _k={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},vk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ei extends Gt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class $e extends Rn{constructor(){super();const e=q($e.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ft()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return YS(e),new Gt(this.context,e).toSeconds()}toFrequency(e){return new Vt(this.context,e).toFrequency()}toTicks(e){return new ei(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{bt(e[s])&&delete n[s]}),n}get(){const e=ok(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];ee(s)&&ee(s.value)&&ee(s.setValueAtTime)?e[n]=s.value:s instanceof $e?e[n]=s._getPartialProperties(e[n]):Yt(s)||fn(s)||Mn(s)||Ym(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ee(this[n])&&(this[n]&&ee(this[n].value)&&ee(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof $e?this[n].set(e[n]):this[n]=e[n])}),this}}class Ra extends jt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return rs(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class se extends $e{constructor(){const e=q(se.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,X(ee(e.param)&&(Os(e.param)||e.param instanceof se),"param must be an AudioParam");!Os(e.param);)e.param=e.param._param;this._swappable=ee(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new jt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ee(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign($e.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ee(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ee(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ee(this.maxValue)&&ee(this.minValue)&&rs(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?dk(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?fk(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return X(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return X(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Ht(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return X(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);X(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),X(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return X(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));X(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Ht(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){X(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class $ extends $e{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ee(this.input)?Os(this.input)||this.input instanceof se?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ee(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ee(e)&&(e instanceof $||ts(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();X(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Jt(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return bc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return og(this,e,n,s),this}chain(...e){return Ms(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ee(this.input)&&(this.input instanceof $?this.input.dispose():ts(this.input)&&this.input.disconnect()),ee(this.output)&&(this.output instanceof $?this.output.dispose():ts(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ms(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof $?n.connect(s):ts(n)&&Jt(n,s),s),e)}function Jt(t,e,n=0,s=0){for(X(ee(t),"Cannot connect from undefined node"),X(ee(e),"Cannot connect to undefined node"),(e instanceof $||ts(e))&&X(e.numberOfInputs>0,"Cannot connect to node with no inputs"),X(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof $||e instanceof se;)ee(e.input)&&(e=e.input);for(;t instanceof $;)ee(t.output)&&(t=t.output);Os(e)?t.connect(e,n):t.connect(e,n,s)}function og(t,e,n=0,s=0){if(ee(e))for(;e instanceof $;)e=e.input;for(;!ts(t);)ee(t.output)&&(t=t.output);Os(e)?t.disconnect(e,n):ts(e)?t.disconnect(e,n,s):t.disconnect()}class le extends ${constructor(){const e=q(le.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new se({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ie(this,"gain")}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class wr extends ${constructor(e){super(e),this.onended=ae,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new le({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign($.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ae})}_startGain(e,n=1){X(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){X(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ae&&(this.onended(this),this.onended=ae,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),X(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ae,this}}class qc extends wr{constructor(){const e=q(qc.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Jt(this._source,this._gainNode),this.offset=new se({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(wr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ue extends ${constructor(){const e=q(ue.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new qc({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Pa(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Pa(t,e,n,s){(e instanceof se||Os(e)||e instanceof ue&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ue&&(e.overridden=!0)),Jt(t,e,n,s)}class Uc extends se{constructor(){const e=q(Uc.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new jt(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(se.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(bt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,u=(-r-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class $c extends ue{constructor(){const e=q($c.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Uc({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ue.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Hc extends $e{constructor(){const e=q(Hc.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Ra,this._tickOffset=new jt,this._ticksAtTime=new jt,this._secondsAtTime=new jt,this.frequency=new $c({context:this.context,units:e.units,value:e.frequency}),ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},$e.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),ee(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),u=a-l;let c=Math.ceil(u)-u;c=Ht(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Fa extends $e{constructor(){const e=q(Fa.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ae,this._lastUpdate=0,this._state=new Ra("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Hc({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign($e.getDefaults(),{callback:ae,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Zm(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Pi.mixin(Fa);class ur extends ${constructor(){const e=q(ur.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new se({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),ie(this,"delayTime")}static getDefaults(){return Object.assign($.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Dr extends ${constructor(){const e=q(Dr.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new le({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ie(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Gc extends ${constructor(){const e=q(Gc.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Dr({context:this.context}),this.output=new le({context:this.context}),this.volume=this.input.volume,Ms(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ms(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ma(t=>{t.destination=new Gc({context:t})});Da(t=>{t.destination.dispose()});class yk extends ${constructor(){super(...arguments),this.name="Listener",this.positionX=new se({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new se({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new se({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new se({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new se({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new se({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new se({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new se({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new se({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ma(t=>{t.listener=new yk({context:t})});Da(t=>{t.listener.dispose()});class Qc extends Rn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=q(Qc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ae,onload:ae,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return X(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=ae,r=ae){return Mn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ve(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new ve(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Rt extends ei{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class wk extends $e{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new jt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ma(t=>{t.draw=new wk({context:t})});Da(t=>{t.draw.dispose()});class Sk extends Rn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){X(ee(e.time),"Events must have a time property"),X(ee(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new kk(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class kk{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Tk extends Rn{constructor(e){super(),this.name="TimelineValue",this._timeline=new jt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class pn extends ${constructor(){super(q(pn.getDefaults(),arguments,["context"]))}connect(e,n=0,s=0){return Pa(this,e,n,s),this}}class Vs extends pn{constructor(){const e=q(Vs.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Yt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):XS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ue.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));X(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Xc extends pn{constructor(){const e=q(Xc.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Vs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(pn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class is{constructor(e,n){this.id=is._eventId++,this._remainderTime=0;const s=Object.assign(is.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:ae,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}is._eventId=0;class Yc extends is{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Yc.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},is.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Jo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Rt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Jo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Rt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);yr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Va extends $e{constructor(){const e=q(Va.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Tk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new jt,this._repeatedEvents=new Sk,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Fa({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ie(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign($e.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new Rt(this.context,this._swingTicks*2/3).toSeconds()*r}jd(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),jd(!1)}schedule(e,n){const s=new is(this,{callback:e,time:new ei(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new Yc(this,{callback:e,duration:new Gt(this.context,r).toTicks(),interval:new Gt(this.context,n).toTicks(),time:new ei(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new is(this,{callback:e,once:!0,time:new ei(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Rt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return ee(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Yt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Gt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Gt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Rt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Rt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new le(l),c=new Xc(-1),h=new le(l);r.chain(u,c,h),r=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new le(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),zc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Pi.mixin(Va);Ma(t=>{t.transport=new Va({context:t})});Da(t=>{t.transport.dispose()});class Ct extends ${constructor(e){super(e),this.input=void 0,this._state=new Ra("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ae,this._syncedStop=ae,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Dr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ie(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,onstop:ae,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=bt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")X(yr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Ss(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Zm(this.context),this._start(r,n,s);return this}stop(e){let n=bt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ee(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(yr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ae,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class La extends wr{constructor(){const e=q(La.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Jt(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new se({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ve(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(wr.getDefaults(),{url:new ve,loop:!1,loopEnd:0,loopStart:0,onload:ae,onerror:ae,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){X(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=Ss(n,this.loopStart):n=Ss(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;xu(o,a)&&(o=(o-l)%u+l),Ht(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Jo(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ee(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ls(t,e){return Fe(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Wc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Zc extends wr{constructor(){const e=q(Zc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Jt(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new se({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new se({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ie(this,["frequency","detune"])}static getDefaults(){return Object.assign(wr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Me extends Ct{constructor(){const e=q(Me.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new ue({context:this.context,units:"frequency",value:e.frequency}),ie(this,"frequency"),this.detune=new ue({context:this.context,units:"cents",value:e.detune}),ie(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ct.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new Zc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Me._periodicWaveCache.find(n=>n.phase===this._phase&&ik(n.partials,this._partials));{const e=Me._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(ee(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Me._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Me._periodicWaveCache.length>100&&Me._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){rs(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return ak(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Me._periodicWaveCache=[];class ag extends pn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Vs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ds extends ue{constructor(){const e=q(Ds.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new le({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ue.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ba extends Ct{constructor(){const e=q(ba.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new ag({context:this.context}),this._modulationNode=new le({context:this.context}),this._carrier=new Me({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Me({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ds({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ie(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Me.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ja extends Ct{constructor(){const e=q(ja.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new le({context:this.context,gain:0}),this._carrier=new Me({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ue({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Me({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ds({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ds({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ie(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Me.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Vi extends Ct{constructor(){const e=q(Vi.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new le({context:this.context,gain:0}),this._thresh=new Vs({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new ue({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Me({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ie(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ct.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class za extends Ct{constructor(){const e=q(za.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new ue({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ie(this,["frequency","detune"])}static getDefaults(){return Object.assign(Me.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(rs(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Me({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ae});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Wa extends Ct{constructor(){const e=q(Wa.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ds({context:this.context,value:2}),this._pulse=new Vi({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Me({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ie(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ct.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Wd={am:ba,fat:za,fm:ja,oscillator:Me,pulse:Vi,pwm:Wa};class ea extends Ct{constructor(){const e=q(ea.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new ue({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,units:"cents",value:e.detune}),ie(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Me.getDefaults(),ja.getDefaults(),ba.getDefaults(),za.getDefaults(),Vi.getDefaults(),Wa.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Wd[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Wd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Mn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Fe(this,arguments,void 0,function*(e=1024){return Ls(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Kc extends ue{constructor(){super(q(Kc.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new le({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ms(this._constantSource,this._sum)}static getDefaults(){return Object.assign(ue.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Jc extends pn{constructor(){const e=q(Jc.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ds({context:this.context,value:e.max-e.min}),this._add=this.output=new Kc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(pn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class eh extends pn{constructor(){super(q(eh.getDefaults(),arguments)),this.name="Zero",this._gain=new le({context:this.context}),this.output=this._gain,this.input=void 0,Jt(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),og(this.context.getConstant(0),this._gain),this}}class th extends ${constructor(){const e=q(th.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=se.prototype._fromType,this._toType=se.prototype._toType,this._is=se.prototype._is,this._clampValue=se.prototype._clampValue,this._oscillator=new Me(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new le({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new ue({context:this.context,units:"audioRange",value:0}),this._zeros=new eh({context:this.context}),this._a2g=new ag({context:this.context}),this._scaler=this.output=new Jc({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ie(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Me.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof se||e instanceof ue)&&(this.convert=e.convert,this.units=e.units),Pa(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function lg(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){rs(i,t,e),n.set(this,i)}})}}function Pn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){rs(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ba extends Ct{constructor(){const e=q(Ba.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ve({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ct.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ae,onerror:ae,playbackRate:1,reverse:!1})}load(e){return Fe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ae){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=Ss(n,this._loopStart):n=Ss(n,0);const r=this.toSeconds(n),i=s;s=Ss(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new La({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&bt(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&rs(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&rs(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}nn([Pn(0)],Ba.prototype,"fadeIn",void 0);nn([Pn(0)],Ba.prototype,"fadeOut",void 0);class xk extends pn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Vs({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class hs extends ${constructor(){const e=q(hs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new ue({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign($.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Mn(e))return e;{let s;for(s in ro)if(ro[s][n]===e)return s;return e}}_setCurve(e,n,s){if(Mn(s)&&Reflect.has(ro,s)){const r=ro[s];ws(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(Yt(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(X(Yt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Pa(this,e,n,s),this}asArray(){return Fe(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,s=new Wc(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}nn([Pn(0)],hs.prototype,"attack",void 0);nn([Pn(0)],hs.prototype,"decay",void 0);nn([lg(0,1)],hs.prototype,"sustain",void 0);nn([Pn(0)],hs.prototype,"release",void 0);const ro=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+n*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const d=Math.pow(n,3)*4+.2,g=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(g*(1-n))}function c(d){const g=new Array(d.length);for(let p=0;p<d.length;p++)g[p]=1-d[p];return g}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:c(r)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class Sr extends ${constructor(){const e=q(Sr.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ie(this,"volume")}static getDefaults(){return Object.assign($.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class kr extends Sr{constructor(){const e=q(kr.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Sr.getDefaults(),{detune:0,onsilence:ae,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof Vt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}nn([Pn(0)],kr.prototype,"portamento",void 0);class nh extends hs{constructor(){super(q(nh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new le({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}let ta=class ug extends kr{constructor(){const e=q(ug.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new ea(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new nh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ie(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(kr.getDefaults(),{envelope:Object.assign(zd(hs.getDefaults(),Object.keys($.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(zd(ea.getDefaults(),[...Object.keys(Ct.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};class na extends ${constructor(){const e=q(na.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new se({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new se({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new se({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new se({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign($.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){X(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*19980+20;n[o]=l}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class sa extends ${constructor(){const e=q(sa.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new le({context:this.context}),this.output=new le({context:this.context}),this._filters=[],this._filters=[],this.Q=new ue({context:this.context,units:"positive",value:e.Q}),this.frequency=new ue({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,units:"cents",value:e.detune}),this.gain=new ue({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ie(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign($.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){X(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=fn(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);X(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new na({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,Ms(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new na({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),zc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class qa extends ta{constructor(){const e=q(qa.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ie(this,["oscillator","envelope"])}static getDefaults(){return lr(kr.getDefaults(),ta.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof Vt?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}nn([lg(0)],qa.prototype,"octaves",void 0);nn([Pn(0)],qa.prototype,"pitchDecay",void 0);const cg=new Set;function sh(t){cg.add(t)}function hg(t,e){const n=`registerProcessor("${t}", ${e})`;cg.add(n)}const Ck=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;sh(Ck);const Ek=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;sh(Ek);const Nk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;sh(Nk);const Ak="feedback-comb-filter",Ok=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;hg(Ak,Ok);class ks extends Sr{constructor(){const e=q(ks.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(X(so(s)||fn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),so(s)){const i=new Vt(this.context,s).toMidi();n[i]=e.urls[s]}else fn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new Qc({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Sr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ae,onerror:ae,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=ig(new Vt(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=rg(l+a),d=new La({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,s),Yt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const g=this._activeSources.get(o),p=g.indexOf(d);p!==-1&&g.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new Vt(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),Yt(n)?(X(Yt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(X(so(e)||isFinite(e),`note must be a pitch or midi: ${e}`),so(e)){const r=new Vt(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}nn([Pn(0)],ks.prototype,"attack",void 0);nn([Pn(0)],ks.prototype,"release",void 0);class rh extends $e{constructor(){const e=q(rh.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Ra("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign($e.getDefaults(),{callback:ae,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let s;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||fn(this._loop)&&this._loop>1){s=1/0,fn(this._loop)&&(s=this._loop*this._getLoopDuration());const i=this._state.getAfter(r);i!==null&&(s=Math.min(s,i.time-r)),s!==1/0&&(s=new Rt(this.context,s));const o=new Rt(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new Rt(this.context,r),s)}else n.id=this.context.transport.schedule(this._tick.bind(this),new Rt(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const s=this._state.getBefore(n);let r=n;s!==null&&(r=s.time),this._rescheduleEvents(r)}return this}cancel(e){e=Ss(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,s=>{this.context.transport.clear(s.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;Ym(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Rt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Rt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const s=this._getLoopDuration();return(e-n.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ih extends $e{constructor(){const e=q(ih.getDefaults(),arguments,["callback","interval"]);super(e),this.name="Loop",this._event=new rh({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability,humanize:e.humanize}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign($e.getDefaults(),{interval:"4n",callback:ae,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class Ua extends ${constructor(){const e=q(Ua.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new xk({context:this.context}),this.a=new le({context:this.context,gain:0}),this.b=new le({context:this.context,gain:0}),this.output=new le({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new ue({context:this.context,units:"normalRange",value:e.fade}),ie(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Jt(this._split,this.a.gain,0),Jt(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign($.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ra extends ${constructor(e){super(e),this.name="Effect",this._dryWet=new Ua({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new le({context:this.context}),this.effectReturn=new le({context:this.context}),this.input=new le({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ie(this,"wet")}static getDefaults(){return Object.assign($.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class oh extends ${constructor(){const e=q(oh.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new se({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ie(this,"pan")}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Mk="bit-crusher",Dk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;hg(Mk,Dk);class $a extends ${constructor(){const e=q($a.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign($.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Ha extends ${constructor(){const e=q(Ha.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign($.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Bd extends ${constructor(e){super(e),this.name="StereoEffect",this.input=new le({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Ua({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new $a({context:this.context,channels:2}),this._merge=new Ha({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),ie(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ms(...e),Jt(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ms(...e),Jt(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign($.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Ik extends Bd{constructor(e){super(e),this.feedback=new ue({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new le({context:this.context}),this._feedbackR=new le({context:this.context}),this._feedbackSplit=new $a({context:this.context,channels:2}),this._feedbackMerge=new Ha({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),ie(this,["feedback"])}static getDefaults(){return Object.assign(Bd.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class ia extends ra{constructor(){const e=q(ia.getDefaults(),arguments,["distortion"]);super(e),this.name="Distortion",this._shaper=new Vs({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(ra.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,s=Math.PI/180;this._shaper.setMap(r=>Math.abs(r)<.001?0:(3+n)*r*20*s/(Math.PI+n*Math.abs(r)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class qd extends Ik{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),ie(this,["feedback"])}}class oa extends qd{constructor(){const e=q(oa.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="PingPongDelay",this._leftDelay=new ur({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new ur({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new ur({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new ue({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),ie(this,["delayTime"])}static getDefaults(){return Object.assign(qd.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class aa extends ra{constructor(){const e=q(aa.getDefaults(),arguments,["frequency","depth"]);super(e),this.name="Vibrato",this._delayNode=new ur({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new th({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,ie(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(ra.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Re extends ${constructor(){const e=q(Re.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new le({context:this.context}),Re._allSolos.has(this.context)||Re._allSolos.set(this.context,new Set),Re._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign($.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Re._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Re._soloed.has(this.context)||Re._soloed.set(this.context,new Set),Re._soloed.get(this.context).add(this)}_removeSolo(){Re._soloed.has(this.context)&&Re._soloed.get(this.context).delete(this)}_isSoloed(){return Re._soloed.has(this.context)&&Re._soloed.get(this.context).has(this)}_noSolos(){return!Re._soloed.has(this.context)||Re._soloed.has(this.context)&&Re._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Re._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Re._allSolos=new Map;Re._soloed=new Map;class ah extends ${constructor(){const e=q(ah.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new oh({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ie(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class tr extends ${constructor(){const e=q(tr.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Re({solo:e.solo,context:this.context}),this._panVol=this.output=new ah({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ie(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return tr.buses.has(e)||tr.buses.set(e,new le({context:this.context})),tr.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new le({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}tr.buses=new Map;Ft().transport;function kl(){return Ft().transport}Ft().destination;Ft().destination;Ft().listener;Ft().draw;Ft();const Rk=()=>{const[t,e]=Z.useState(!1),n=Z.useRef(null),s=Z.useRef(null),[r,i]=Z.useState(160),[o,a]=Z.useState(!1),[l,u]=Z.useState(!1),[c,h]=Z.useState(!1),[d,g]=Z.useState([]),p=Z.useRef([]),[v,w]=Z.useState(!0),[f,m]=Z.useState("triangle"),[_,x]=Z.useState(.01),[y,k]=Z.useState(2),[T,S]=Z.useState(0),[E,C]=Z.useState(0),[N,A]=Z.useState(0),[F,V]=Z.useState(!1),[U,j]=Z.useState(!1),[W,O]=Z.useState(!1),[M,I]=Z.useState(!1),[L,G]=Z.useState([]),ne=Z.useRef([]),oe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Q={minor_pentatonic:[0,3,5,7,10],major_pentatonic:[0,2,4,7,9],major_scale:[0,2,4,5,7,9,11],minor_scale:[0,2,3,5,7,8,10],major_triad:[0,4,7],minor_triad:[0,3,7],major_sixth_chord:[0,4,7,9],minor_sixth_chord:[0,3,7,9],major_seventh_chord:[0,4,7,11],minor_seventh_chord:[0,3,7,10],dominant_seventh_chord:[0,4,7,10],major_ninth_chord:[0,4,7,11,14],minor_ninth_chord:[0,3,7,10,14],dominant_ninth_chord:[0,4,7,10,14],melodic_minor_scale:[0,2,3,5,7,9,11],wholetone_scale:[0,2,4,6,8,10]},[K,Ne]=Z.useState(oe[Math.floor(Math.random()*oe.length)]),B=Object.keys(Q),[At,vn]=Z.useState(B[Math.floor(Math.random()*B.length)]),Fn=["triangle","sine","sawtooth","square","piano","rhodes","vocal"],sn=(R,fe,Ot)=>{const Ye=oe.indexOf(R);let Y=Ot==="low"?2:Ot==="mid"?3:4;const ze=Q[fe].map(Ve=>Ye+Ve>=oe.length?oe[(Ye+Ve)%oe.length]+String(Y+1):oe[(Ye+Ve)%oe.length]+String(Y));return ze.push(R+String(Y+1)),ze},Ir=sn(K,At,"low"),Li=sn(K,At,"mid"),b=sn(K,At,"high");Z.useEffect(()=>{if(p.current.length===0)for(let R=0;R<16;R++){const fe=new ta;fe.volume.value=-24,p.current.push(fe)}else p.current.forEach((R,fe)=>{R.set({envelope:{attack:_,decay:(Math.pow(2,y)-1)*10,sustain:0,release:(Math.pow(2,y)-1)*10},detune:(Math.random()-1)*T,portamento:E}),(f.startsWith("tri")||f.startsWith("s"))&&fe>=d.length&&(R.set({oscillator:{type:f}}),f.startsWith("saw")||f.startsWith("square")?R.volume.value=-36:R.volume.value=-24)})},[f,_,y,T,E]);const H=Z.useRef(null),Se=Z.useRef(null),de=Z.useRef(null),te=async()=>{w(!0),H.current=new ks({urls:{E2:"piano_E2.mp3",A2:"piano_A2.mp3",E3:"piano_E3.mp3",A3:"piano_A3.mp3",E4:"piano_E4.mp3",A4:"piano_A4.mp3",E5:"piano_E5.mp3",A5:"piano_A5.mp3"},baseUrl:"./assets/sample/",onload:()=>{console.log("Piano sampler loaded."),w(!1)},onerror:R=>{w(!1),console.error("Piano sampler loading error:",R)}}),H.current.volume.value=-6,Se.current=new ks({urls:{E2:"rhode_E2.mp3",A2:"rhode_A2.mp3",E3:"rhode_E3.mp3",A3:"rhode_A3.mp3",E4:"rhode_E4.mp3",A4:"rhode_A4.mp3",E5:"rhode_E5.mp3",A5:"rhode_A5.mp3"},baseUrl:"./assets/sample/",onload:()=>{console.log("Rhodes sampler loaded."),w(!1)},onerror:R=>{w(!1),console.error("Rhodes sampler loading error:",R)}}),Se.current.volume.value=-18,de.current=new ks({urls:{A2:"vocal_A2.mp3",E3:"vocal_E3.mp3",A3:"vocal_A3.mp3",E4:"vocal_E4.mp3",A4:"vocal_A4.mp3"},baseUrl:"./assets/sample/",onload:()=>{console.log("Vocal sampler loaded."),w(!1)},onerror:R=>{w(!1),console.error("Vocal sampler loading error:",R)}}),de.current.volume.value=-32};Z.useEffect(()=>{H.current==null?te():(te(),H.current.set({attack:_,release:(Math.pow(2,y)-1)*20}),Se.current.set({attack:_,release:(Math.pow(2,y)-1)*20}))},[_,y]),Z.useEffect(()=>{ne.current.length===0&&(ne.current.push(new sa(2e4,"lowpass",-24)),ne.current.push(new oa({time:"4n",maxDelay:10,wet:.5})),ne.current.push(new aa(9,.75)),ne.current.push(new ia(.8)))},[]),Z.useEffect(()=>{if(f.startsWith("tri")||f.startsWith("s")){p.current=[];for(let R=0;R<16;R++){const fe=new ta({envelope:{attack:_,decay:(Math.pow(2,y)-1)*20,sustain:0,release:(Math.pow(2,y)-1)*20},oscillator:{type:f},detune:(Math.random()-1)*T,portamento:E});fe.volume.value=-24,p.current.push(fe)}}else te();ne.current=[],ne.current.push(new sa(2e4,"lowpass",-24)),ne.current.push(new oa({time:"4n",maxDelay:3,wet:.25})),ne.current.push(new aa(9,.75)),ne.current.push(new ia(.8))},[L]),Z.useEffect(()=>{if(d.length===0||v)return;const R=n.current,fe=new ih(Ot=>{d.forEach((Ye,Y)=>{if(Math.random()<N)return;let ze=p.current[Y%p.current.length];Ye.inst=="piano"&&(ze=H.current),Ye.inst=="rhodes"&&(ze=Se.current),Ye.inst=="vocal"&&(ze=de.current);let Ve=[];L.forEach(ct=>{const Vn=ct.x/R.width,Qa=1-ct.y/R.height;if(ct.property=="filter"){const ht=400+Math.pow(2,Vn*10)*20;let dt=ne.current[0];dt.set({frequency:ht}),dt.Q.value=1+Qa*8,ht<1e3&&dt.Q.value>3&&(dt.Q.value=3),Ve.push(dt)}if(ct.property=="delay"){let ht=ne.current[1];ht.set({feedback:Vn}),Ve.push(ht)}if(ct.property=="vibrato"){let ht=ne.current[2];ht.set({frequency:Vn*10,depth:Qa*.25}),Ve.push(ht)}if(ct.property=="distortion"){let ht=ne.current[3];ht.set({distortion:Vn*.1}),Ve.push(ht)}}),Ve.length>0?(Ve[Ve.length-1].toDestination(),ze.chain(...Ve)):ze.toDestination();const Mt=Math.floor(Ye.x/R.width*Ir.length);let We;Ye.property==="low"?We=Ir[Mt]:Ye.property==="mid"?We=Li[Mt]:Ye.property==="high"&&(We=b[Mt]),ze.triggerRelease(),ze.triggerAttack(We,Ot)})},"4n").start(0);return()=>fe.dispose()},[d,Ir,Li,b,N,L,v]);const ge=()=>{e(!0),kl().start(),s.current=requestAnimationFrame(on)},ut=()=>{e(!1),kl().stop(),s.current&&cancelAnimationFrame(s.current)},rn=Z.useCallback(R=>{const fe=R.target.value;i(fe),kl().bpm.rampTo(fe,.1)},[]),on=Z.useCallback(()=>{const R=n.current,fe=R.getContext("2d");R.width=window.innerWidth*.55,R.height=window.innerHeight*.55,fe.clearRect(0,0,R.width,R.height);const Ot=(Y,ze)=>{Y.x+=Y.vx,Y.y+=Y.vy,(Y.x+Y.radius>R.width||Y.x-Y.radius<0)&&(Y.vx*=-1),(Y.y+Y.radius>R.height||Y.y-Y.radius<0)&&(Y.vy*=-1);const Ve=[...d,...L];for(let Mt=0;Mt<Ve.length;Mt++)if(Mt!==ze){const We=Ve[Mt],ct=Y.x-We.x,Vn=Y.y-We.y;if(Math.sqrt(ct*ct+Vn*Vn)<Y.radius+We.radius){const ht=Math.atan2(Vn,ct),dt=Math.sin(ht),Ln=Math.cos(ht),pg=Y.vx*Ln+Y.vy*dt,lh=Y.vy*Ln-Y.vx*dt,uh=We.vx*Ln+We.vy*dt,ch=We.vy*Ln-We.vx*dt,hh=pg;Y.vx=uh*Ln-lh*dt,Y.vy=lh*Ln+uh*dt,We.vx=hh*Ln-ch*dt,We.vy=ch*Ln+hh*dt}}fe.beginPath(),fe.arc(Y.x,Y.y,Y.radius,0,Math.PI*2),fe.fillStyle=Y.color,fe.fill(),fe.closePath()};[...d,...L].forEach((Y,ze)=>{Ot(Y,ze)}),s.current=requestAnimationFrame(on)},[d,L]);Z.useEffect(()=>(t&&(s.current=requestAnimationFrame(on)),()=>cancelAnimationFrame(s.current)),[t,on]);const ds=(R,fe)=>{const Ot=n.current.getBoundingClientRect(),Ye=R.clientX-Ot.left,Y=R.clientY-Ot.top,ze=(Math.random()-.5)*2,Ve=(Math.random()-.5)*2,Mt=Math.random()*10+20,We=fe==="low"?"#FC6238":fe==="mid"?"#00A86B":"#6C88C4";g(ct=>[...ct,{x:Ye,y:Y,vx:ze,vy:Ve,radius:Mt,color:We,property:fe,inst:f}]),a(!1),u(!1),h(!1),t||ge()},bs=(R,fe)=>{const Ot=n.current.getBoundingClientRect(),Ye=R.clientX-Ot.left,Y=R.clientY-Ot.top,ze=(Math.random()-.5)*2,Ve=(Math.random()-.5)*2,Mt=Math.random()*10+20,We="dodgerblue";G(ct=>[...ct,{x:Ye,y:Y,vx:ze,vy:Ve,radius:Mt,color:We,property:fe}]),V(!1),j(!1),O(!1),I(!1)},Ga=()=>{if(t){ut();return}ge()},dg=()=>{g([]),G([])},fg=R=>{m(R)};return P.jsxs("div",{className:"container",children:[P.jsx("h1",{children:"Bubble Synth"}),P.jsx("canvas",{id:"canvas",ref:n,onClick:R=>{o?ds(R,"low"):l?ds(R,"mid"):c?ds(R,"high"):F?bs(R,"filter"):U?bs(R,"delay"):W?bs(R,"vibrato"):M&&bs(R,"distortion")}}),P.jsx("p",{}),P.jsxs("div",{className:"notes",children:[P.jsx("button",{className:"note-button",style:{backgroundColor:"#FC6238"},onClick:()=>a(!0),children:"Low Note"}),P.jsx("button",{className:"note-button",style:{backgroundColor:"#00A86B"},onClick:()=>u(!0),children:"Mid Note"}),P.jsx("button",{className:"note-button",style:{backgroundColor:"#6C88C4"},onClick:()=>h(!0),children:"Hi Note"}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"bpm",children:["Trigger BPM: ",r/2]}),P.jsx("input",{type:"range",id:"bpm",min:20,max:600,step:2,value:r,onChange:rn})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"key",children:"Key"}),P.jsx("select",{id:"key",value:K,onChange:R=>Ne(R.target.value),children:oe.map(R=>P.jsx("option",{value:R,children:R},R))})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"mode",children:"Tonality"}),P.jsx("select",{id:"mode",value:At,onChange:R=>vn(R.target.value),children:Object.keys(Q).map(R=>P.jsx("option",{value:R,children:R},R))})]})]}),P.jsxs("div",{className:"inst",children:[Fn.map(R=>P.jsx("button",{className:`instrument-button ${f===R?"selected":""}`,onClick:()=>fg(R),children:R},R)),P.jsx("button",{style:{backgroundColor:"#81c784"},onClick:Ga,children:t?"pause":"play"}),P.jsx("button",{style:{backgroundColor:"#e57373"},onClick:dg,children:"reset"})]}),P.jsx("div",{className:"left-panel",children:P.jsxs("div",{className:"efx",children:[P.jsx("button",{className:"note-button",style:{backgroundColor:"dodgerblue",color:"white"},onClick:()=>V(!0),children:"Filter"}),P.jsx("button",{className:"note-button",style:{backgroundColor:"dodgerblue",color:"white"},onClick:()=>j(!0),children:"Delay"}),P.jsx("button",{className:"note-button",style:{backgroundColor:"dodgerblue",color:"white"},onClick:()=>O(!0),children:"Vibrato"}),P.jsx("button",{className:"note-button",style:{backgroundColor:"dodgerblue",color:"white"},onClick:()=>I(!0),children:"Dist"})]})}),P.jsxs("div",{className:"right-panel",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"dropout",children:"Dropout"}),P.jsx("input",{type:"range",id:"dropout",min:0,max:1,step:.1,value:N,onChange:R=>A(R.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"attack",children:"Attack  "}),P.jsx("input",{type:"range",id:"attack",min:0,max:2,step:.1,value:_,onChange:R=>x(R.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"decay",children:"Decay "}),P.jsx("input",{type:"range",id:"decay",min:.1,max:5,step:.1,value:y,onChange:R=>k(R.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"detune",children:"Detune"}),P.jsx("input",{type:"range",id:"detune",min:0,max:50,step:1,value:T,onChange:R=>S(R.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"slide",children:"Slide "}),P.jsx("input",{type:"range",id:"slide",min:0,max:1,step:.1,value:E,onChange:R=>C(R.target.value)})]})]}),P.jsx("button",{className:"how-to-button",onClick:()=>{var R=document.getElementById("modal");R.style.display=="block"?R.style.display="none":R.style.display="block"},children:"?"}),P.jsxs("div",{className:"modal",id:"modal",children:[P.jsxs("div",{className:"intro",children:[P.jsx("p",{children:"Welcome to Bubble Synth! Generate morphing sounds by clicking on bubbles"}),P.jsx("p",{children:"and dropping them on the canvas."}),P.jsxs("p",{children:["Made with React and Tone.js, Created by ",P.jsx("a",{href:"https://www.blue-mirror.com",children:"Ethan Chen"}),"💙"]})]}),P.jsx("div",{className:"firsthere",children:P.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M12 21L3 12H9V3H15V12H21L12 21Z",fill:"currentColor"})})}),P.jsxs("div",{className:"here-are-notes",children:[P.jsxs("p",{children:[P.jsx("b",{children:"Start Here"})," by selecting note bubble and dropping it in canvas. Notes will be"]}),P.jsx("p",{children:"triggered based on horizontal location of the bubble."}),P.jsx("p",{children:"Adjust: Trigger BPM, Key and Scale, Instruments"})]}),P.jsx("div",{className:"thenhere",children:P.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M3 12L12 21V15H21V9H12V3L3 12Z",fill:"currentColor"})})}),P.jsxs("div",{className:"here-are-efx",children:[P.jsx("p",{children:"Select effect bubbles and drop"}),P.jsx("p",{children:"them to spice up your sound!"}),P.jsx("p",{children:"The parameters are controlled"}),P.jsx("p",{children:"by their location on canvas"})]}),P.jsx("div",{className:"lasthere",children:P.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M21 12L12 3V9H3V15H12V21L21 12Z",fill:"currentColor"})})}),P.jsxs("div",{className:"here-are-control",children:[P.jsx("p",{children:"Adjust the control knob to"}),P.jsx("p",{children:"finetune sound parameters"}),P.jsx("p",{children:"Dropout: randomly skips notes"})]})]})]})};Tl.createRoot(document.getElementById("root")).render(P.jsx(Dg.StrictMode,{children:P.jsx(Rk,{})}));
